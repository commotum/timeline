                             Table 3: Results on Karel dataset. Gen and Exact
                             denote generalization and exact match accuracies.
                               Approach             Gen        Exact
                               LaSynth            83.68%      41.12%
                               Exec [12]          86.04%      39.40%
                               Bunel et al. [9]   77.12%      32.17%          Figure 3: Generalization accuracies with different train-
                               Shin et al. [44]   81.30%      42.80%          ing data sizes on Karel. With the full training set, the
                                                                              accuracies are 86.04%, 89.28% and 89.36% for train-
                                                                              ingonrandomprograms,retrainingfor1and2iterations.
                                                         (a)                                             (b)
                             Figure 4: Program distributions after iterative retraining on Karel. (a) The distributions of different program
                             types. Seq-only: no control ﬂows. If-only: the program includes If statements but no loops. Repeat/While-only:
                             the program includes Repeat/While loops, but no other control ﬂow constructs. Mixture: the program includes at
                             least two types of control ﬂow constructs. (b) The distributions of programs with different token lengths.
                             Our model architecture for Karel is largely similar to the model for C code synthesis, except that
                             weemploythe CNN encoder in Bunel et al. [9] in our program decoder and latent executor. The
                             comparison with baseline models is shown in the middle block of Table 2. All models use the beam
                             search for decoding programs, with the beam size of 64.
                             5.1.2   Results
                             Wepresent the results of LaSynth and baseline model architectures in Table 3. First, LaSynth
                             outperforms all baselines that do not incorporate the partial program execution information, and
                             achieves competitive performance compared with the Exec algorithm that requires an interpreter to
                             obtain the partial program execution states. In particular, LaSynth achieves a higher generalization
                             accuracy than Shin et al. with lower exact match accuracy, showing that decoded programs by
                             LaSyntharemoredifferent from randomly generated programs. Although Shin et al. also model the
                             program execution by predicting the robot actions, the prediction of the action traces does not take
                             the program structure into account, resulting in the inferior performance.
                             5.2   CCodeSynthesis
                             5.2.1   Evaluation Setup
                             Given the variety of C programs, we observe that the exact match accuracies of models are mostly
                             nearly 0. Therefore, we focus on evaluating the generalization accuracy, and we consider the predicted
                             program to be correct when it satisﬁes both the 5 input-output examples and 5 held-out test cases.
                             Baselines. We compare the full LaSynth with its multiple ablated versions:
                                     • NoExecutor. The program decoder (Eqn. 1) always takes the initial input-output pairs as
                                                       ˆ
                                       the input; i.e,. It = I0 for every t.
                                                                                  7
