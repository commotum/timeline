                            ll                                                                                                            iScience
                      OPENACCESS                                                                                                               Article
                 Table 3. Performance comparison of car detection on the KITTI validation split
                                                                                                                                        Car-3D(AP:%)
                 Mehods                                                                                                                 Easy ModHard
                      54
                 MV3D                                                                                                                   71.29 62.68 56.56
                 AVOD-FPN55                                                                                                             84.41 74.44 68.65
                 F-PointNet29                                                                                                           83.76 70.92 63.65
                 PointRCNN30                                                                                                            88.88 78.63 77.38
                 VoxelNet12                                                                                                             81.97 65.46 62.85
                 GAPSA62                                                                                                                89.23 79.15 78.67
                 SMS-Net63                                                                                                              89.34 79.04 77.76
                 VSAC(ours)                                                                                                             89.22 79.19 76.22
                 preserve the subtlety of the 3D structure. (2) U(i) should be extended to more distant areas for wider global information. (3) The number of
                 voxels involved in attentional computation in U(i) should be kept at a low level to avoid excessive computational burden. These are practical
                 consideration, ensuring that while the model captures necessary spatial information, it does not become computationally infeasible, espe-
                 cially when scaling to large point cloud datasets or aiming for real-time processing.
                    Foreachqueryvoxel,itisimportanttoquicklysearchfortherelevantvoxel.WedeﬁneVandFasthevoxelcoordinatearrayandthefeature
                 array, respectively, as follows:
                                                                         V = Nv33;F = Nv3z                                                    (Equation 4)
                 WhereN denotesthenumberofvoxels,3denotesthedimensionsof coordinates, z denotes the dimension of feature.
                          v
                    In order to more conveniently search for relevant voxels in the self-attention calculation, we convert the three-dimensional index array V
                 into a one-dimensional index array V   , as follow:
                                                      one
                                                                            Vone = f1;2;3:::Ng                                                (Equation 5)
                 WhereNrepresentsthenumberofvoxels.
                    Intheentiredense3Dvoxel-grid,afterpreprocessingthevoxels,non-emptyvoxelsarestoredasJ(ifit’sanemptyvoxel,itisstoredas1),
                 as follow:
                                                                          J = f 1;1;2;3:::mg                                                 (Equation 6)
                 Wheremrepresentsthenumberofnon-emptyvoxels.
                    As depicted in Figure 3, we propose an approach for handling non-empty voxels to reduce memory and resource overhead. The v, v
                                                                                                                                                       i  k
                 represent the indexes in the array V of the query voxel and the voxel involve in the attention computation, respectively. Initially, for each
                 v, corresponding v ˛U(i) can be obtained. Then, a voxel hash table is established, with the indices in the array V    serving as keys and
                  i                 k                                                                                               one
                 the corresponding indices in the array J as values. Next, we use the key to search the hash table for the corresponding index in the array
                 J. If the hash tablereturns1,itisjudgedasanemptyvoxel.Ultimately,thisallowsustoobtainthevoxelsparticipatingintheattentionmech-
                 anism, as well as the features of the voxels.
                 Figure 4. Precision-recall curves for Car-3D, Car-BEV, and Car-AOS detection
                 6     iScience 27, 110759, September 20, 2024
