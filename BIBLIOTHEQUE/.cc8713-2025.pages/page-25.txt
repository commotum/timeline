              Learning program synthesis with self-improving language models: A case study on ARC-AGI
       H.ExamplesofSolutions
       H.1. ARCProblem6b9890af
       Solve the task online here, then read the program.
       def transform(grid):
         def find_bounding_box(grid, color):
            min_row, max_row, min_col, max_col = (float(’inf’), float(’-inf’), float(’inf’),
                                       float(’-inf’))
            for i, row in enumerate(grid):
              for j, cell in enumerate(row):
                if cell == color:
                   min_row = min(min_row, i)
                   max_row = max(max_row, i)
                   min_col = min(min_col, j)
                   max_col = max(max_col, j)
            return (min_row, max_row, min_col, max_col)
         def create_bounding_box(grid, color):
            min_row, max_row, min_col, max_col = find_bounding_box(grid, color)
            bounding_box = []
            for i in range(min_row, max_row + 1):
              row = grid[i][min_col:max_col + 1]
              bounding_box.append(row)
            return bounding_box
         def resize_bounding_box(bounding_box, size):
            resized_box = [[0] * size for _ in range(size)]
            rows, cols = (len(bounding_box), len(bounding_box[0]))
            row_step = rows / (size - 1) if rows > 1 else 0
            col_step = cols / (size - 1) if cols > 1 else 0
            for i in range(size):
              for j in range(size):
                if i == 0 or i == size - 1 or j == 0 or (j == size - 1):
                   resized_box[i][j] = bounding_box[0][0]
                else:
                   row_idx = min(int(i * row_step), rows - 1)
                   col_idx = min(int(j * col_step), cols - 1)
                   resized_box[i][j] = bounding_box[row_idx][col_idx]
            return resized_box
         colors = set()
         for row in grid:
            for cell in row:
              if cell != 0:
                colors.add(cell)
         color_bounding_boxes = {}
         for color in colors:
            color_bounding_boxes[color] = create_bounding_box(grid, color)
         max_size = 0
         for color in colors:
            bounding_box = color_bounding_boxes[color]
            max_dim = max(len(bounding_box), len(bounding_box[0]))
            max_size = max(max_size, max_dim)
         output_size = max_size
         output_grid = [[0] * output_size for _ in range(output_size)]
         for color in colors:
            bounding_box = color_bounding_boxes[color]
            resized_box = resize_bounding_box(bounding_box, output_size)
            for i in range(output_size):
              for j in range(output_size):
                if resized_box[i][j] == color:
                   output_grid[i][j] = color
         return output_grid
                                  25
