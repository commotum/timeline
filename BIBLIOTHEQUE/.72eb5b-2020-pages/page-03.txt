          Just-in-Time Learning for Bottom-Up Enumerative Synthesis                        227:3
                                                  PROBE 
               SyGus Problem               Synthesis          Solution found?     Solution!
                i/o examples 
                  + CFG
                                              Updated PCFG
                                           Learning           Partial solutions
                                      Fig. 2. Overview of the Probe system
          Guidingthesearch.Thestateoftheartinguidedsynthesis is weighted enumerative search using
          the í µí°´âˆ— algorithm, implemented in the EuPhony synthesizer [Lee et al. 2018] (see Sec. 7 for an
          overview of other guided search techniques). This algorithm builds upon top-down enumeration,
          which works by gradually filling holes in incomplete programs. Unfortunately, top-down enumera-
          tion is not a good fit for just-in-time learning: in order to identify partial solutions, the synthesizer
          needs to evaluate the programs it generates, while with top-down enumeration the majority of
          synthesizerâ€™s time is spent generating incomplete programs that cannot (yet) be evaluated.
            To overcome this difoculty, we propose guided bottom-up search, a new synthesis algorithm
          that, unlike prior work, builds upon bottom-up enumeration. This style of enumeration works by
          repeatedly combining small programs into larger programs; every generated program is complete
          and can be evaluated on the input examples, which enables just-in-time learning to rapidly collect
          a representative set of partial solutions. In addition, bottom-up enumeration leverages dynamic
          programmingandapowerfulpruningtechniqueknownasobservationalequivalence [Albarghouthi
          et al. 2013; Udupa et al. 2013], which further improves efociency of synthesis. Our algorithm
          extends bottom-up search with the ability to enumerate programs in the order of decreasing
          likelihood according to a PCFG, and to our knowledge, is the first guided version of bottom-up
          enumeration. While guided bottom-up search enables just-in-time learning, it can also be used
          with an independently obtained PCFG.
          TheProbetool.Weimplementedguidedbottom-upsearchwithjust-in-timelearninginasyn-
          thesizer called Probe. A high-level overview of Probe is shown in Fig. 2. The tool takes as input
          an inductive synthesis problem in SyGuS format, i.e. a context-free grammar of the DSL and a
          set of input-output examples2; it outputs a program from the DSL that satisfies all the examples.
          Optionally, Probe can also take as input initial PCFG probabilities suggested by a domain expert or
          learned ahead of time.
            We have evaluated Probe on 140 SyGuS benchmarks from three different domains: string
          manipulation, bit-vector manipulation, and circuit transformation. Probe is able to solve a total
          of 91 problems within a timeout of ten minutes, compared to only 44 problems for the baseline
          bottom-up synthesizer and 50 problems for EuPhony. Note that Probe outperforms EuPhony
          2Probealso supports universally-quantified first-order specifications and reduces them to input-output examples using
          counter-example guided inductive synthesis (CEGIS) [Solar-Lezama et al. 2006]. Since this reduction is entirely standard, in
          the rest of the paper we focus on inductive synthesis, but we use both kinds of specifications in our evaluation.
                             Proc. ACMProgram. Lang., Vol. 4, No. OOPSLA, Article 227. Publication date: November 2020.
