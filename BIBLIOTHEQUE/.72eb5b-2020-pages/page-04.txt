           227:4                                             Shraddha Barke, Hila Peleg, and Nadia Polikarpova
                     ID Input                                 Output
                     í µí±’0  "a < 4 and a > 0"                   "a 4 and a 0"
                     í µí±’1  "<open and <close>"                 "open and close"
                     í µí±’2  "<Change> <string> to <a> number"   "Change string to a number"
            Fig. 3. Input-output example specification for the remove-angles benchmark (adapted from [eup 2018]).
               í µí±† â†’ arg|"" |"<" | ">"        input string and string literals
                    |  (replaceí µí±† í µí±† í µí±†)     replace s x y replaces first occurrence of x in s with y
                    |  (concat í µí±† í µí±†)        concat x y concatenates x and y
                   Fig. 4. A simple CFG for string expressions and the informal semantics of its terminals.
           despite requiring no additional training data, which makes it applicable to new domains where large
           sets of existing problems are not available. We also compared Probe with CVC4 [Reynolds et al.
           2019], the winner of the 2019 SyGuS competition. Although CVC4 solves more benchmarks than
           Probe, its solutions are less interpretable and tend to overfit to the examples: CVC4 solutions are 9
           times larger than Probe solutions on average, and moreover, on the few benchmarks where larger
           datasets are available, CVC4 achieves only 68% accuracy on unseen data (while Probe achieves
           perfect accuracy).
           Contributions. To summarize, this paper makes the following contributions:
             (1) Guided bottom-up search: a bottom-up enumerative synthesis algorithm that explores pro-
                gramsintheorderofdecreasing likelihood defined by a PCFG (Sec. 4).
             (2) Just-in-time learning: a new technique for updating a PCFG during synthesis by learning
                from partial solutions (Sec. 5).
             (3) Probe: a prototype implementation of guided bottom-up search with just-in-time learning
                andits evaluation on benchmarks from prior work (Sec. 6).
           2 BACKGROUND
           In this section, we introduce the baseline synthesis technique that Probe builds upon: bottom-up
           enumeration with observational equivalence reduction [Albarghouthi et al. 2013; Udupa et al.
           2013]. For exposition purposes, hereafter we use a simpler running example than the one in the
           introduction; the specification for this example, dubbed remove-angles, is given in Fig. 3. The task
           is to remove all occurrences of angle brackets from the input string.
           2.1  SyntaxGuidedSynthesis
           Weformulateoursearchproblemasaninstanceofsyntax-guidedsynthesis(SyGuS)[Aluretal.2013].
           Inthissetting,synthesizersareexpectedtogenerateprogramsinasimplelanguageofS-expressions
           with built-in operations on integers (such as + or âˆ’) and strings (such as concat and replace). The
           input to a SyGuS problem is a syntactic specification, in the form of a context-free grammar (CFG)
           that defines the space of possible programs and a semantic specification that consists of a set of
                               3
           input-output examples . The goal of the synthesizer is to find a program generated by the grammar,
           whosebehavior is consistent with the semantic specification.
             For our running example remove-angles, we adopt a very simple grammar of string expressions
           showninFig. 4. The semantic specification for this problem is the set of examples {í µí±’0,í µí±’1,í µí±’2} from
           3In general, SyGuS supports a richer class of semantic specifications, which can be reduced to example-based specifications
           using a standard technique, as we explain in Sec. 6
           Proc. ACMProgram. Lang., Vol. 4, No. OOPSLA, Article 227. Publication date: November 2020.
