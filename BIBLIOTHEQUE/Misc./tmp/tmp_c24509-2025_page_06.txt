                         Space        Space-Time              Numeric Conditions                           Image Conditions
                                                              Trajectory   Command Timestamp                   HexPlane              Layout
                                                                 MLP       Embedding        MLP                Patchify             Patchify
                               (a) HexPlane
                                                                                +                                            +
                              XY          TY YZ                          Conditioning                        Cross-Attention Conditioning
                                                              In                 Se                La    Cr           La          Fe
                              XZ          TZ                  p     La    Sc     l Mu                    o  Mu              Sc       Po
                                                                                 f                 y     s            y           e
                                                              u     y     a      -                       s                  a     d
                                                              t     e     l      Atl     Sc        e     -  l         e     l        i     Sc
                                                                    r     e        t               r     At t         r     e     f  n
                                                              T                  t i     a    +             i    +                o  t     a    +
                                                                    N     ,        -               N        -         N     ,
                                                              ok                 e He    l               t  He                    r  w     l
                                                                    o     Sh     n       e         o     e            o     Sh    w  i     e
                              TX                              e     r     i      t a               r     n  a         r     i     a  se
                                                              n     m     f      i d               m     t  d         m     f     r
                                                                          t      o                       i                  t     d   
                                                              s                  n                       o
                           (b) Padded Rollout                                                            n
                    Figure4 Padded Rollout                 Figure5 Condition Injection for DiT
                    DecodingHexPlane. Based on the HexPlane H = [P ,P ,P ,P ,P ,P ], we employ an Expansion &
                                                                                   xy   xz    yz   tx   ty    tz
                    Squeeze Strategy (ESS), which could efÏciently recover the feature volume sequence by decoding the feature
                    planes in parallel for 4D occupancy reconstruction.
                    ESS first duplicates and expands each feature plane P to match the shape of X                         , resulting in the list
                                                                                                                      txyz
                                                                 P      P       P      P       P       P
                    of six feature volume sequences: {X xy,X xz ,X yz ,X tx ,X ty ,X tz } . Afterward, ESS squeezes the
                                                                txyz    txyz   txyz    txyz    txyz   txyz
                    corresponding six expanded feature volumes with the Hadamard Product:
                                                              Y          P       P      P       P      P       P
                                                 X′     =            {X xy,X xz,X yz,X tx ,X ty ,X tz } .                                       (2)
                                                   txyz                  txyz   txyz    txyz   txyz    txyz   txyz
                                                           Hadamard
                    Subsequently, the convolutional network gϕ(·) is employed to upsample the volumes for generating dense
                                               ′
                    semantic predictions Q :
                                                             ′                   ′                 ′
                                                          Q =g (Concat(X             , PE(Pos(X        )))) ,                                   (3)
                                                                  ϕ              txyz             txyz
                    where Concat(·) and PE(·) denote the concatenation and sinusoidal positional encoding, respectively. Pos(·)
                    returns the 4D position p of each voxel within the 4D feature volume X′                  .
                                                                                                         txyz
                    Optimization. The VAE is trained with a combined loss L                , including a cross-entropy loss, a Lovász-softmax
                                                                                      VAE
                    loss [3], and a Kullback-Leibler (KL) divergence loss:
                                                                       ′                  ′
                                                 L      =L (Q,Q)+αL (Q,Q)+βL (H,N(0,I)),                                                        (4)
                                                   VAE       CE                 Lov                KL
                    where L       is the cross-entropy loss between the input Q and prediction Q′, L                     is the Lovász-softmax
                              CE                                                                                    Lov
                    loss, and L      represents the KL divergence between the latent representation H and the prior Gaussian
                                 KL
                    distribution N(0,I). Note that the KL divergence is computed for each feature plane of H individually, and
                    the term L       refers to the combined divergence over all six planes.
                                 KL
                    4.2 DiffusionTransformerforHexPlane
                    After training the VAE, 4D semantic scenes can be embedded as HexPlane H = [P ,P ,P ,P ,P ,P ].
                                                                                                                     xy    xz   yz    tx   ty   tz
                    Building upon H, we aim to leverage a DiT [26] model D to generate novel HexPlane, which could be further
                                                                                      τ
                    decoded as novel 4D scenes (see Fig. 2(b)).
                                                                                   6
