                     BlinkFill: Semi-supervised Programming By Example for
                                                      Syntactic String Transformations
                                                                                       Rishabh Singh
                                                                         Microsoft Research, Redmond, USA
                                                                                  risin@microsoft.com
                  ABSTRACT                                                                             Excel 2013, is a Programming By Example (PBE) system
                  The recent Programming By Example (PBE) techniques                                   for helping end-users perform such string transformations
                  such as FlashFill have shown great promise for enabling                              using examples. The key idea in FlashFill is to learn pro-
                  end-users to perform data transformation tasks using input-                          grams in a Domain-speciﬁc language (DSL) that is expres-
                  output examples. Since examples are inherently an under-                             sive enough to encode the majority of real-world tasks, but
                  speciﬁcation, there are typically a large number of hypothe-                         also restricted enough for eﬃcient learning. Since examples
                  ses conforming to the examples, and the PBE techniques                               are often an under-speciﬁcation of the intended task, there
                  suﬀer from scalability issues for ﬁnding the intended pro-                           are typically a large number of programs in the DSL that
                  gram amongst the large space.                                                        conform to the examples. FlashFill uses version-space al-
                     Wepresentasemi-supervisedlearningtechniquetosigniﬁ-                               gebra (VSA) [12, 13] to succinctly represent this large set
                  cantly reduce this ambiguity by using the logical information                        of consistent programs and then uses ranking to identify
                  present in the input data to guide the synthesis algorithm.                          the most likely program [27]. Since FlashFill only uses
                  We develop a data structure InputDataGraph to succinctly                             the input-output examples and ignores the other spread-
                  represent a large set of logical patterns that are shared across                     sheet data items, it needs to learn and maintain a large
                  the input data, and use this graph to eﬃciently learn sub-                           set of programs that are consistent with the examples but
                  string expressions in a new PBE system BlinkFill. We                                 may not perform the desired transformation on other data
                  evaluate BlinkFill on 207 real-world benchmarks and show                             items. This, in turn, results in scalability issues of the syn-
                  that BlinkFill is signiﬁcantly faster (on average 41x) and                           thesis algorithm on longer strings and also enforces larger
                  requires fewer input-output examples (1.27 vs 1.53) to learn                         restrictions on the transformations supported in the DSL
                  the desired transformations in comparison to FlashFill.                              (e.g.   FlashFill only supports a ﬁnite set of pre-deﬁned
                                                                                                       regular expression tokens).
                  1.     INTRODUCTION                                                                     In this paper, we present BlinkFill, a PBE system that
                                                                                                       eﬃciently learns string transformations in spreadsheets from
                     The IT revolution has resulted in massive digitization                            input-output examples by leveraging the logical information
                  of data and in making this data accessible to millions of                            present in the spreadsheet data. We show that this semi-
                  users. Despite signiﬁcant advances in technologies for help-                         supervised technique can signiﬁcantly reduce the inherent
                  ing users perform data analysis, the process of transforming                         ambiguity in PBE, which in turn results in an eﬃcient learn-
                  and cleaning data before any useful analysis is still challeng-                      ing algorithm. Moreover, learning from other spreadsheet
                  ing and time consuming. Some studies have reported that                              data also enables a new class of transformations that use
                  this step of data cleaning and reshaping (also called wran-                          regular expressions based on arbitrary constant strings.
                  gling) can take up to 80% of the data analysts’ time [4].                               There are two key challenges in learning from spreadsheet
                  These data analysts have myriad diverse backgrounds and                              data: 1) how to eﬃciently compute the set of all logical
                  lack programming knowledge to automate data wrangling                                structures (and sub-structures) that are consistent with a
                  steps [6]. Simpler speciﬁcation mechanisms such as exam-                             set of column values, and 2) how to use the logical structures
                  ples [1, 7] and predictive interaction [10] are recently becom-                      in learning string transformation programs. BlinkFill con-
                  ing more popular to cater to the needs of these users.                               structs a data structure InputDataGraph that succinctly en-
                     An important subset of the data wrangling problem con-                            codes the set of all logical structures that are shared across a
                  sists of regular expression based string transformation tasks.                       set of column values. It then uses the sub-paths in the graph
                  FlashFill [7, 8], a recently introduced feature in Microsoft                         data structure to learn and disambiguate between a large
                                                                                                       number of DSL expressions that are consistent with a given
                                                                                                       set of input-output examples. The DSL for string transfor-
                                                                                                       mation tasks in BlinkFill is similar to that of FlashFill
                                                                                                       at the top-level, but consists of new substring extraction ex-
                  This work is licensed under the Creative Commons Attribution-                        pressions based on the InputDataGraph nodes. We present
                  NonCommercial-NoDerivatives 4.0 International License. To view a copy                a sound and complete synthesis algorithm to learn the set
                  of this license, visit http://creativecommons.org/licenses/by-nc-nd/4.0/. For        of all expressions in the DSL that conform to a set of input-
                  anyusebeyondthosecoveredbythislicense,obtainpermissionbyemailing                     output examples, and a ranking algorithm to select the most
                  info@vldb.org.                                                                       likely program amongst them. Unlike FlashFill, the DSL
                  Proceedings of the VLDB Endowment, Vol. 9, No. 10
                  Copyright 2016 VLDB Endowment 2150-8097/16/06.
                                                                                                 816
