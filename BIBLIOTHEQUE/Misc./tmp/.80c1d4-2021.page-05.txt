              PSB2: The Second ProgramSynthesis Benchmark Suite                                                  GECCO’21,July10–14,2021, Lille, France
                                                                                                5
                 16. MiddleCharacter(CW)Givenastring,returnthemiddle               problem [13]. The dataset for each problem consists of a small
                     characterasastringifitisoddlength;returnthetwomiddle          numberofhand-choseninputs,oftenaddressingedgecasesforthe
                     characters as a string if it is even length. [48]             problem, and 1 million randomly-generated inputs falling within
                                                                                   the constraints of the problem. We recommend each diﬀerent pro-
                 17. PairedDigits(AoC)Givenastringofdigits,returnthesum            gram synthesis run use a diﬀerent set of data, composed of ev-
                     of the digits whose following digit is the same. [56]         ery one of the hand-chosen inputs and a random sample of the
                 18. Shopping List (CW) Given a vector of ﬂoats representing       randomly-generated inputs. The alternative method of using the
                     the prices of various shopping goods and another vector of    same ﬁxed set of inputs for every run could happen to use a par-
                     ﬂoats representing the percent discount of each of those      ticularly lucky (or unlucky) set of inputs; using randomized inputs
                     goods, return the total price of the shopping trip after ap-  avoidsthisissue.OurdatasetswillallowthoseimplementingPSB2
                     plying the discount to each item. [43]                        to simply sample the provided data, greatly decreasing the bar-
                                                                                   rier to using PSB2. The PSB2 datasets can be found permanently
                                                                                              6
                 19. Snow Day (HW) Given an integer representing a number          on Zenodo. For more information about distributions of inputs
                     ofhoursand3ﬂoatsrepresentinghowmuchsnowisonthe                in randomly-generated inputs, see the reference implementation,
                                                                                                                         7
                     ground, the rate of snow fall, and the proportion of snow     whichwasusedtogenerate the datasets.
                     meltingperhour,returntheamountofsnowontheground                 Whenusing our provided datasets, one could sample diﬀerent
                     after the amount of hours given. Each hour is considered a    sizes of training and unseen test sets to ﬁt a given experiment. Our
                     discrete event of adding snow and then melting, not a con-    recommendation, which we use in the our experiments, is to use
                     tinuous process.                                              200 example cases for the training set (including all hand-chosen
                                                                                   inputs) and 2000 for the unseen test set. However, some synthe-
                 20. SolveBoolean(CW)GivenastringrepresentingaBoolean              sis methods may need smaller or larger training sets, and PSB2
                     expressionconsisting of T, F,|, and&, evaluate it and return  canﬂexibly adapt to such systems. In order to produce fairer com-
                     the resulting Boolean. [28]                                   parisons between systems, we recommend using a ﬁxed program
                                                                                   executionbudgettolimitthenumberofgeneratedprogramexecu-
                 21. Spin Words (CW) Given a string of one or more words           tions in a single program synthesis run. We recommend a budget
                     (separated by spaces), reverse all of the words that are ﬁve  of 60 million program executions; we allocate these to 200 train-
                     or more letters long and return the resulting string. [61]    ing cases used to evaluate a population of 1000 individuals for 300
                 22. Square Digits (CW) Given a positive integer, square each      generations in our experimental GP runs, but other allocations of
                     digitandconcatenatethesquaresintoareturnedstring.[37]         the same executions would be reasonable.
                                                                                     ProgramsynthesismethodsthathavebeenappliedtoPSB1have
                 23. Substitution Cipher (CW) This problem gives 3 strings.        usedvaryingmethodsforconstrainingtheinstructionsetandother
                     Theﬁrsttworepresent a cipher, mapping each character in       program syntax. For example, some have used grammars [6, 7, 22,
                     one string to the one at the same index in the other string.  27, 32, 39, 50] while othershaveuseddata-typecategorizedsubsets
                     Theprogrammustapplythis cipher to the third string and        of an instruction set [16, 17]. We do not want to constrain what a
                     return the deciphered message. [24]                           reasonableapproachtoselectinginstructionsmaylooklikeforany
                                                                                   given program synthesis system. However, we also warn against
                 24. Twitter (HW) Given a string representing a tweet, vali-       cherry-picking a small subset of instructions suspected of being
                     date whether the tweet meets Twitter’s original character     useful for a particular problem. Part of the diﬃculty of general
                     requirements. If the tweet has more than 140 characters, re-  programsynthesis is that a system must manage a large set of po-
                     turn the string "Too many characters". If the tweet is        tentially useful instructions, ﬁnding those relevant to a particular
                     empty, return the string "You didn’t type anything".          problem.Werecommendemployingalargesetofgeneral-purpose
                     Otherwise,return"Your tweet has X characters",where           instructions when using PSB2 to benchmark program synthesis to
                     the - is the number of characters in the tweet.               best replicate the conditions of a real-world scenario.
                 25. VectorDistance(CW)Giventwo=-dimensionalvectorsof                WhenevaluatingtheperformanceofasynthesissystemonPSB2,
                     ﬂoats, return the Euclidean distance between the two vec-     we recommend using success rate (the number of synthesis runs
                     tors in =-dimensional space. [53]                             that produce a solution) as the primary measure of performance,
                                                                                   as was recommended in PSB1 [17]. For the synthesis of software,
                                                                                   generating programsthatpassmosttrainingcasesisnotsuﬃcient;
                                                                                   forthisreasonsuccessrateisabettermeasureofperformancethan
                                                                                   other metrics such as mean best ﬁtness or mean number of train-
              6 USINGPSB2                                                          ing cases passed. In particular, a solution must not only pass all
              While Section 5 provides English-language descriptions of the 25     cases in the training set, but also all of the cases in the test set, to
              benchmark problems, these are not suﬃcient to implement each         ensure that it generalizes to unseen data. This avoids considering
              problem in a new system. Here we discuss the system-agnostic
              details for using these problems.                                    5Our datasets follow the model of other machine learning datasets such as Penn ML
                                                                                   Benchmarks[30, 38] and the UCI ML Repository [2].
                 ForreasonsdiscussedinSection3,wehavecreateddatasetscon-           6https://zenodo.org/record/4678739
              sisting of large numbers of inputs and correct outputs for every     7https://github.com/thelmuth/Clojush/releases/tag/psb2-v1.0
