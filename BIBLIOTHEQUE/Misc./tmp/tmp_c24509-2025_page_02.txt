                                                                                                                                         . . .
                                T=1                   T=2                   T=3                  T=4                   T=5                                        T=N
                          Command-Driven                                                                                                        DynamicObject
                          SceneGeneration                                                                                                          Generation
                          1            2                                                                                                       1            2
                           Forward      Turn Left
                          3            4                                                                                                       3            4
                           Turn Left    Turn Left
                          5            6                                                                                                       5            6
                           Turn Left     Forward
                           Trajectory-Guided Generation                        DynamicSceneInpainting                        Layout-ConditionedGeneration
                                                                                 Before                  After
                       Figure1 Dynamicoccupancygenerationfrom DynamicCity. We introduce a new 4D generation model that generates
                                                                                                      3
                       diverse 4D scenes of large spatial scales (80 × 80 × 6.4 meter ) and long sequential modeling (up to 128 frames),
                       enabling a diverse set of downstream applications. For more detailed examples, kindly refer to our ProjectPage.
                       diffusion model. Despite achieving impressive occupancy generation, they primarily focus on generating
                       static and single-frame 3D occupancy, and hence fail to effectively capture the dynamic nature of outdoor
                       environments. Recently, a few works [41, 49] have explored 4D scene generation. However, generating
                       high-quality long-sequence 4D scenes is still a challenging and open problem [21, 23].
                       In this work, we propose a novel 4D occupancy generation framework, DynamicCity, enabling the generation
                       of large-scale, high-quality dynamic occupancy scenes, which mainly consists of two stages:
                           • A VAE network for learning compact 4D representations, i.e., HexPlanes [7, 11].
                           • A HexPlane Generation model based on DiT [26].
                       VAEfor4DOccupancy. Given a set of 4D occupancy scenes, DynamicCity first encodes the scene as a 3D
                       feature volume sequence with a 3D backbone. Afterward, we propose a novel ProjectionModule based on
                       transformer operations to compress the feature volume sequence into six 2D feature maps. In particular, the
                       proposed projection module significantly enhances HexPlane fitting performance, offering an improvement of
                       up to 12.56% mIoU compared to conventional averaging operations. After constructing the HexPlane based
                       on the projected six feature planes, we employ an Expansion&SqueezeStrategy (ESS) to decode the HexPlane
                       into multiple 3D feature volumes in parallel. Compared to individually querying each point, ESS further
                       improves HexPlane fitting quality (with up to 7.05% mIoU gain), significantly accelerates training speed (by
                       up to 2.06x), and substantially reduces memory usage (by up to a relative 70.84% memory reduction).
                       DiTforHexPlane. Using the encoded HexPlane, we use a DiT-based framework for generating HexPlane,
                       enabling 4D occupancy generation. Training a DiT with token sequences naively generated from HexPlane may
                       not achieve optimal quality, as it could overlook spatial and temporal relationships among tokens. Therefore,
                       we introduce the PaddedRolloutOperation (PRO), which reorganizes the six feature planes into a square
                       feature map, providing an efÏcient way to model both spatial and temporal relationships within the token
                                                                                                2
