                                                                                                                             4.5.  THE  MAIN  THEOREM  ON  PREFIX  COMPLEXITY                                                                                                                                                                                                                                    95
                                                                      The lemma is proven.
                                                                         100  Prove that the described algorithm can be rephrased as follows:  for each 
                                                    i use the the leftmost properly aligned interval of length 2~li that does not overlap 
                                                   with previously allocated intervals.
                                                                      [Hint:  The construction used in the proof maintains also the following property: 
                                                   the lengths of the free intervals increase from left to right.)
                                                                      Corollary.  Let U  be a computable sequence of natural numbers such that 
                                                                   2~li < 1.  Then K'(i) < k + 0(1).
                                                                     Indeed,  the lemma provides a computable sequence of pairwise incompatible 
                                                   strings Xi of lengths lj..  Define a computable function D by letting D{xi) = i.  As Xi 
                                                   are pairwise incompatible, this function is prefix free.  And D is computable:  given 
                                                   an input x, we compare it with Xi for all i — 0,1, 2,... successively.  Once we find 
                                                   that X = Xi, we output i and halt.
                                                                     (Note that, in this proof, we go back and forth between natural numbers and 
                                                   binary strings when we speak about a priori probability and complexity.)
                                                                     Let us return to the proof of the theorem.  Consider the maximal lower semicom- 
                                                   putable semimeasure m.  By definition there exists a computable function m(x, Ï) 
                                                   taking rational values that is non-decreasing in i such that
                                                                                                                                                                                         m(x) =  lim m(x, i).
                                                                                                                                                                                                                             i—ïoo
                                                   Let  m '(x,i)  stand  for  the  smallest  power of two  (1,1/2,1/4,1/8,...)  that  is  an 
                                                   upper bound for m(x,i).  The function m '(x,i)  is computable and non-decreasing 
                                                   in i.  Its value is between m {x,i) and 2m(x,i).
                                                                     Say that a pair  (x,i)  is a boundary pair if m'(x,i) > m'(x,i — 1)  (or if i = 0 
                                                   and m'(x, 0) > 0).
                                                                     Let  us show that the sum of m'(x,i)  over all boundary pairs  (x,i)  does not 
                                                   exceed 4.  It is enough to show that for every fixed x the sum of m'{x,i) over all 
                                                   boundary pairs  (x,i)  is at  most 4m(x).  This is true since for every fixed x each 
                                                   term in this sum is at least twice bigger than the preceding term.  Thus the sum 
                                                   is  at  most  twice bigger than its last term,  m'(x,i)  for some i,  which is less than 
                                                   2m(x,i).  Now recall that m(x,i)  ^ m{x).  We see that the sum in question is at 
                                                   most 4m(x).
                                                                    The set of all boundary pairs (x, i) is decidable:  to find whether a pair (x, i)  is 
                                                   a boundary pair, we have to compare m '(x,i) and m '{x,i — 1).
                                                                    Enumerate all  the  pairs  (x, г)  and  exclude  all  non-boundary  ones;  we  get  a 
                                                   sequence (xo, io), (xi, ii), ■ ■ ■  of pairs.  Each boundary pair appears in this sequence 
                                                   exactly once.  Define ln by the equality
                                                                                                                                                                                         2~ln = m/(x„,i„)/4.
                                                   The sequence of ln is computable and
                                                                                                                                                                 ^   ^  2                             =          ^   ^                   m ixni in)  ^5  1-
                                                                                                                                                                     П                                                        П
                                                   The corollary  mentioned above implies that  K'(n)  ^  ln + 0(1).  As xn  can be 
                                                   computed given n, we have
                                                                                             K'(xn) < K'{n) + 0(1) < ln + 0(1) = -  logm'(xn, in) + 0(1).
