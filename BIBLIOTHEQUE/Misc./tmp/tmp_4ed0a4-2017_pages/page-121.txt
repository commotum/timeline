                           4.  A  PRIORI  PROBABILITY  AND  PREFIX  COMPLEXITY
            106
                Proof.  We can use either prefix-free decompressors or semirneasures.  Both 
            versions are instructive.
                Using  prefix-free  decompressors.  Let  D  be  the  optimal  unconditional 
            prefix-free  decompressor.  Let  Dc  be  the  optimal  conditional  prefix-free  decom­
            pressor.  Consider the function D' defined as
                                     D'(uv) = [D(u),Dc(v,D(u))\
            (for  и  and  v  such  that  the  right-hand  side  is  defined).  Following  the  proof of 
            Theorem 60, we note that D' is well defined and is a prefix-free (unconditional) de­
            compressor.  The concatenation of the shortest D-description for x and the shortest 
            /^-description for у (with condition x) is a description for [x,y].
                (Note that  the  order  of и  and  v  is  crucial  for  this  argument.  Replacing  uv 
            by vu, we get into a trouble:  to find where v ends, we have to use the prefix-free 
            property of Dc, but it is valid only for a fixed condition and D(u) is not determined 
            yet.)
                Using semimeasures.  Let m(x) be the unconditional a priori probability of 
            x,  and  let  m(y | x)  be the  conditional  a priori probability of y  when x  is  known. 
            Consider the function m! defined as
                                       m!(\x,y\) = m(x)m(y\x)
            (we assume that m'(z) = 0 for strings г that are not encodings of any pairs).  Then 
            m! is lower semicomputable (being a product of two non-negative lower semicom- 
            putable functions), and
                     m'{z) = ^2 m(x)m(y \ x) = ^  [m{x) ^  rn{y \ x)]  ^ ^  m(x) ^ 1.
                   z          x,y                x        y              X
            Therefore, m([x,y]) ^ £m'([x,y]) = £m(x)m(y\x).                              □
                110 I Prove that C(x, y) ^ K(x) + C(y | x) + 0(1).
                (Hint:  One may use a prefix-free decompressor and append the (plain) descrip­
            tion of у given x to the prefix-free description of x.  We may also count the number 
            of pairs such that K(x) + C(y \ x) ^ n.  We have at most 2k • m(k) • 2n~k = 2nm(k) 
            pairs such that K(x) = k, and the sum over к gives 2n • 0(1).)
               Further improvements are possible.  First note that we can use pairs of strings 
            as conditions by using some computable injective encoding (changing the encoding, 
           we change the complexity by at most a constant).  For similar reasons we can speak 
            about complexity of a triple of strings.  Now we can write the following chain of 
            inequalities (the 0(1) terms are omitted):
            K(x, y) ^ K(x,K(x),y) ^ K(x,K(x)) + K(y\x,K(x)) = K(x) + K(y\x,K(x)).
           Here the equality K(x, K(x)) = K(x) (Theorem 61) is used as well as the inequality 
           for the entropy of pairs (Theorem 66).  We get an inequality that can be considered 
           as  a  strong  form  of Theorem  66,  since  K(y\x,K(x))  ^  K(y\x)  (because x  can 
           be produced from [x, K(x)] by an algorithm).  As noticed by Levin (see [55]) and 
           Chaitin (see [32]), this refined inequality is (remarkably) an equality:
               Theorem 67.
                                K(x,y) = K(x) + K(y\x,K(x)) + 0(1).
