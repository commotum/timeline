             422                          13.  INFORMATION AND LOGIC
                 Let Q be chosen with a uniform probability distribution among all functions 
             from S3 to S.  In other words,  the values Q(a,b,c)  are independent  (for different 
             triples  (a,b,c))  and uniformly distributed in S.  We have to choose the parameter 
             к = n — O(logn) so that with positive probability a random function Q has the 
             property specified above.
                 We fix first a set M consisting of 2k pairs of functions from 5 to 5 and bound 
             from above the probability that it serves more than 23n-3 quadruples of the form 
             (a, b, c, Q(a, b, c)).  To this end let us divide triples  (a,b,c)  into  “bad”  and  “good” 
             ones.  The  number  of bad  triples will  be  less  than  23n-4.  And  for  good  triples 
             (a, b, c) only a fraction of at most 1/32 of quadruples (a, b, c, d) will be served by M. 
             By the Chernoff inequality with high probability the number of served quadruples 
             (a, b, c, Q(a, b, c))  with good (a, b, c)  will be also less than 23n-4.
                 More specifically,  a triple  (a,b,c)  (and also the quadruple  (a,b,c,d))  is bad if 
             the number of (/, g) from M with /(a) — c is more than  \M |2“n+4 (this property 
             depends on a and c only).  Since for each pair (/, g) there are only 22n triples of the 
             form (a, 6,/(a)), the number of bad triples is less than  \M\  • 22n/(|M|2“n+4) = 
             23n-4; the remaining triples are good.
                 We claim that if к < 2n — 9, then for every good triple (a, b, c) the probability 
             of the event  “M serves the quadruple (a,b,c,Q(a,b,c))”  is less than 1/32.  Indeed, 
             if M serves the quadruple  (a,b,c,d),  then d falls into the set that consists of all 
             strings g(b)  such that  for some /   the pair  (/, g)  belongs to M and /(a) = c.  As 
             (a, b, c)  is good, this set has at most  | M 12-n+4 =  2k~ n+4 strings.  If к is chosen to 
             be less than 2n — 9, then this set contains a fraction at most 1/32 of all strings of 
             length n.
                 We will use now Chernoff inequality in the following form.  Assume that we 
             are given N independent events, and the probability of each event equals p.  Then 
             for  any  £  with  probability  at  least  1  — e“2e  N  the  number  of events  that  have 
             occurred is fewer than (p + e)N.  In particular, this holds for e — p:  the number of 
             events that have occurred is fewer than 2pN with probability at least 1 — e~2p N. 
             Obviously,  the same bound holds in the case when the probability of each event 
             is  at  most p  (maybe less  than p).  In our case each event  is specified by  a good 
             triple  (a,b,c)  and thus  (15/16)23n  <  N  <  23n:  the event occurs if M serves the 
             triple (a, b, c, Q(a, b, c)).  The probability of each event is at most p = 1/32.  By the 
             Chernoff bound with probability at least 1 — e“n^2        the number of good triples 
             (a, b, c)  such that M serves (a, b, c, Q(a, b, c))  is at most N/16 < 23n~4.
                 If  at  most  1/16  of good  quadruples  are  served  by  M,  then  (even  if all  bad 
             quadruples are served) the fraction of served quadruples is at most 1/16 + 1/16 = 
             1/8.  Hence M serves more than 1/8 of quadruples (a, b, c, Q{a, b, c)) with probabil­
             ity at most e-n^3
                 It remains to verify that the probability e“n^2    is less than 1 even after being 
             multiplied by the number of sets M of cardinality 2k.  The number of such sets is 
             fewer than the square of the number of functions from S' to S' (that number equals 
             2n2n ) raised to the power of 2k :
                                            22n2n2k _ ^2п+к+1оя n + 1
             Let us compare this value to the probability
                                                    2_n(23n)
