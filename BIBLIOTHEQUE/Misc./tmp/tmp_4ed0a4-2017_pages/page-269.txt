             256                             8.  SOME  APPLICATIONS
                  Theorem 164.  Let X, Y, and Z be finite sets.  Let f  :                  YxZ —»• M,
             and h : X xZ  —> M  be some functions with non-negative values.  Then
                     f(x>y)9(yiz)h(x,z)
                 x,V,z
                  PROOF.  Believe it or not, this inequality is in fact a corollary of the inequality
                             2K(x,y,z) < K(x,y) + K(y,z) + K(x,z) + 0(logn)
             for prefix complexity (Theorem 26, p. 48).  We wrote the last inequality for prefix 
             complexity,  not plain complexity,  but this does not  matter since the difference is 
             O(logn).  (For prefix complexity this inequality is true up to 0(l)-precision  (see 
             Problem 114, p.  Ill); for now the 0(logn)-precision is enough.)
                 It  is convenient to assume that elements of the finite sets X, Y, Z are binary 
             strings.  It is enough to show that if the sums in the right-hand side of the inequality 
             do not exceed 1, the same is true for the left-hand side.  (Indeed, we can multiply 
             /  by an arbitrary constant c, and both sides of the inequality are multiplied by the 
             same factor, so we can normalize /; the same for g and h.)
                 Now assume that          y f2(x,y)  =  1  and that  the same is true for two other 
             sums.  We have to show that J2X  z /(x, y)g(y, z)h(x, z) < 1.
                 The  idea  is  simple:  The  function  / 2  is  a  probability  distribution  on  pairs 
             (x,y),  so  K(x,y)  <  — log/2(x,y)  =  —21og/(x,y)  (we  temporarily  ignore  the 
             constant in the comparison of this distribution and the a priori one).  Similarly, 
             K(y,z) < —2 logg(y,z) and K(x,z) < —2\ogh(x,z).  Then we apply the inequal­
             ity for K(x,y,z)  (temporarily ignoring the logarithmic term) and get
                           2K(x,y,z) ^ -2 log f(x,y) -  21ogg(y,z) -  21ogh(x,z),
             i.e.,
                                       f(x,y)g(y,z)h(x,z) ^ 2~K{x'y'z).
             Since the sum of 2~K(x,y,z')  over all triples x,y,z does not exceed 1  (Theorem 57, 
             p.  92), we get the desired inequality.
                 This argument is, of course, too simple to be valid.  All our bounds are of as­
             ymptotic nature, so we have to switch somehow from individual strings to sequences 
             of strings.  Let us show how it can be done.
                 We start with a simple remark:  It is enough to prove the inequality for functions 
             /, g, h with rational values (by continuity).
                 Let N be some natural number (later we take the limits as N tends to infinity). 
             Consider  the  sets  XN, YN,  and  ZN  whose  elements  are  ALtuples  (of elements 
             of X,  Y,  Z,  respectively).  Consider  a probability  distribution  on XN  x  YN — 
             (X xY)n that corresponds to N independent copies of distribution f2 on X x Y. 
             Formally speaking, the probability of a point  ((xi,..., хдг), (y\,...,улг))  is equal 
             to the product f2(xi,yi) ■ ... ■ /2(хм,Уы)-  We get a family of distributions that 
             computably depends on N.  Therefore, there exists a constant c such that
                         K((xi,... ,xN), (yi,... ,yN)\N) < 2 ^ ( —log f(xi,yi)) + c
                                                                  г
             for all N and for all x\,..., хдг, yi,..., y^ (we compare our distribution with a priori 
             probability).  We can delete the condition N in the left-hand side, and replace c by
