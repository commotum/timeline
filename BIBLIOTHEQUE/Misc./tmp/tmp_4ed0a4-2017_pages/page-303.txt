            290         9.  FREQUENCY  AND  GAME  APPROACHES  TO  RANDOMNESS
                Proof.  Recall how we constructed Mises-Church random sequences in Theo­
            rem 173.  The advice information there was very small, only one bit per algorithm 
            (that may or may not compute a selection rule) — we needed to know whether it 
            would compute a selection rule.  Now this is not enough, because the selection rules 
            are partial.  Now we can enumerate all selection rules,  but for each selection rule 
            we need to know when it becomes undefined for the first time (so it can be replaced 
            by something harmless starting from this moment).  So, if we use fin) programs 
            to construct the first n bits,  the total size of the advice needed is  /(n)logn bits 
            (for each of /(n) programs we need logn bits to specify the first place where it is 
            undefined — we may agree that this place is n + 1 if it is defined for all currently 
            known prefixes).2
                Note that we use n in the condition, but the О (logn) change does not matter 
            since this corresponds to the 0(l)-change in /.                              □
                A similar extension  (allowing partial functions)  can be done for martingales. 
            Recall that we may define computably random sequences using total computable 
            functions with rational values as martingales.  Now we can consider also partial 
            computable functions requiring the equation  (defining martingales)  to  be true if 
            all three quantities m(x), m(x0), and m(x 1) are defined.3  We call these functions 
            partial martingales.  A partial martingale wins on a sequence u> if it is defined for 
            all prefixes of ui and is unbounded.  A sequence is partial-computably random if no 
            computable partial martingale wins on it.  Now, following [120], we may generalize 
            Theorem 189:
                Theorem 190.  (a)  Every partial-computably random sequence is also Mises- 
            Church-Daley random.
                (b)  Let f  : N —> N  be  a non-decreasing unbounded computable function.  Then 
            there exists a partial-computably random sequence u> such that the n-bit prefix of со 
            has complexity at most f{n) logn + 0(1).
                (These two statements together imply the statement of Theorem 189.)
                PROOF,  (a) We use that same construction to convert a selection rule into a 
            martingale as in Theorem 182(c).  If the rule is partial,  we get  a partial martin­
            gale.  But  if the  rule  selects  an  infinite  subsequence  from some  sequence u>,  the 
            corresponding martingale is defined on all prefixes of u>.
                (b)  Here  again  we  may  follow  the  argument  used to  prove Theorem  182(b). 
            For each martingale that is added to the construction, we need to know at which 
            moment it becomes undefined  (so we can replace it by something harmless,  e.g., 
            by its last value).  This information requires at most log n for each martingale used 
           to construct the first n bits of the sequence, and if at this moment we use at most 
            f{n) martingales, we get the required bound.                                 □
               2 One may ask also why we need to know exactly the moment when the algorithm becomes 
           undefined for the first time, not just one bit saying whether this happened or not.  This is because 
           the constructions for different n should give prefixes of the same infinite sequence.
               3From the gambling point of view it is  natural to require that m(a:0)  and m(x 1)  are both 
           defined or both undefined; one cannot toss the coin before both bets are made.  However, it is not 
           important:  If m (x) and m(a:0) are defined, we can compute m(x 1) knowing that m isa martingale, 
           and vice versa.
