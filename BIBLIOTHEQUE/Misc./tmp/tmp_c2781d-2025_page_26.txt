                      Preprint, Under Review.
                      B APPENDIX
                      B.1  CRAFTER
                      Figure 5: POGS and Crafter environments. POGS (left): Agent navigates a procedurally generated
                      graph with partial visibility. Crafter (right): Agent receives natural language descriptions of terrain,
                      resources, and creatures with their relative positions.
                      Crafter Hafner (2022) is an open-world survival game inspired by Minecraft. The environment is
                      designed to benchmark reinforcement learning agents on tasks requiring generalization and long-term
                      reasoning without extensive prior game knowledge. Crafter presents a procedurally generated 2D
                      world where the agent must gather resources, craft tools, and defend against creatures to survive and
                      unlock achievements. The environment provides observations as a combination of top-down pixel
                      views of the agent’s local surroundings and non-visual data, including the agent’s health, inventory,
                      and currently held item. The agent can perform 17 discrete actions, and its progress is measured by
                      unlocking 22 predefined achievements, each yielding a sparse reward signal.
                      Our agent interacts with the Crafter environment through the BALROG Paglieri et al. (2025a)
                      framework, which acts as a standardized wrapper. BALROG facilitates the communication between
                      our agent, conceptualized as an underlying Large Language Model (LLM) combined with a specific
                      prompting strategy, and the Crafter game environment. At each timestep, Crafter, via BALROG,
                      relays the current observation to our agent. The agent, which internally maintains a history of past
                      observations and actions, incorporates this new observation into its context. A dedicated prompt
                      builder component within the agent updates this interaction history and formats it into a chat template.
                      Anexamplefigure of Crafter together with current observation can be see in figure 5 on the right.
                      This prompt is then passed to the LLM, which processes the contextual information and generates
                      the subsequent action as a natural language string. BALROG then translates this string into a game-
                      compatible command for Crafter. Further details regarding the specifics of the system prompt, the
                      wrapper’s mechanics, and the handling of action validation can be found in BALROG Paglieri et al.
                      (2025a).
                      B.2  POGS
                      ThePartially-Observable Graph Search (POGS) environment is a custom-designed, synthetic envi-
                      ronment created specifically to isolate and evaluate planning under uncertainty. In POGS, agents
                      navigate procedurally generated graphs, seeing only a limited area around their current node, and
                      must find a path to a target node. This partial observability means agents often discover new sections
                      of the graph or hit dead ends, forcing them to backtrack and adjust their plans. A key feature of
                      POGSisitsability to quantify exploration efficiency by tracking backtracking, specifically defined
                      as the number of times an agent visited the node it was on two steps prior; a lower backtracking
                      count indicates better efficiency in solving the environment. To integrate POGS into the BALROG
                      framework, we implemented a dedicated system prompt (see Prompt 21) that clearly specifies the
                      agent’s objectives, valid actions, and observation format, as demonstrated in the natural language
                      observation example in Figure 5.
                      B.3  BACKTRACKING ON POGS
                      Figure6visualizesadditionalmetricsforPOGS:successrate,length,backtrackcount,andthenumber
                      of output tokens. Increasing planning frequency leads not only to higher costs (more output tokens)
                                                             26
