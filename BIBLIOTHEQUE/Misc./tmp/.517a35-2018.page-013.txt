                    Accelerating Program Synthesis using Learned Probabilistic Models                                             PLDI’18, June 18–22, 2018, Philadelphia, PA, USA
                                                STRING                                                     BITVEC                                                     CIRCUIT
                                                                                                                                                350
                                                                                    2000
                                    Euphony                                                     Euphony                                                    Euphony
                          600
                                    EUSolver                                                    EUSolver                                                   EUSolver
                                                                                                                                                300
                                                                                    1750
                          500
                                                                                    1500
                                                                                                                                                250
                          400
                                                                                    1250
                                                                                                                                                200
                                                                                    1000
                          300
                                                                                                                                                150
                         Time (m)                                                   Time (m)                                                    Time (m)
                                                                                     750
                          200
                                                                                                                                                100
                                                                                     500
                          100
                                                                                                                                                  50
                                                                                     250
                            0                                                          0                                                           0
                             0        5      10       15      20       25                0    25    50    75   100   125   150   175                0    2    4    6    8    10   12   14   16   18
                                    # Solved Instances (total = 82)                            # Solved Instances (total = 289)                            # Solved Instances (total = 34)
                    Figure7.ComparisonbetweenEuphonyandEUSolverondifferentdomains.Thetimeoutforbothsolversissettoonehour.
                                                                               *                                    approach comprises a weighted search algorithm that is ap-
                                                Efficacy of PHOG and A                                              plicable to a wide range of probabilistic models. We also
                                                *
                                   2500
                                               A +PHOG
                                               PHOG                                                                 proposed a method based on transfer learning that allows
                                                *
                                               A
                                   2000                                                                             a state-of-the-art probabilistic model, PHOG, to avoid over-
                                               BASELINE                                                             fitting. We demonstrated the effectiveness of the approach
                                   1500                                                                             onalargenumberofsynthesisproblemsfromavarietyof
                                  Time (m)1000                                                                      application domains. The experimental results show that our
                                                                                                                    approachoutperformsexistinggeneral-purposeanddomain-
                                    500                                                                             specific synthesis tools.
                                      0
                                       0         50       100        150       200
                                               # Solved Instances (total=405)                                       Acknowledgments
                      Figure 8. Comparison of different variants of Euphony.                                        Wethankthereviewersforinsightfulcomments.Wearealso
                    of leveraging type checking for synthesis [11, 22, 26], by us-                                  grateful to Mukund Raghothaman and Arjun Radhakrishna
                    ing our method to guide the search within the search space                                      for their helpful suggestions. The first author is also afÏli-
                    pruned using type information.                                                                  ated with Hanyang University. This research was supported
                    DomainSpecializations. Recentproposalsforspeedingup                                             by DARPA under agreement #FA8750-15-2-0009 and NSF
                    synthesisexploitdomainknowledgeinvariousforms,includ-                                           awards #1138996, #1253867, and #1526270.
                    ing abstract semantics [33], domain-specific languages [5,                                      References
                    8, 25], templates [16] and features of input-output exam-                                        [1] Miltiadis Allamanis, Earl T. Barr, Christian Bird, and Charles Sutton.
                    ples[21].Whileprobabilisticmodelscanthemselvesbeviewed                                                2015. Suggesting Accurate Method and Class Names. In Proceedings
                    as a kind of domain specialization, our feature maps allow                                            of the 2015 10th Joint Meeting on Foundations of Software Engineering
                    such models to generalize well across synthesis problems                                              (ESEC/FSE 2015).
                    in a domain when their solutions have different probability                                      [2] Miltiadis Allamanis and Charles Sutton. 2014. Mining Idioms from
                    distributions.                                                                                        Source Code. In Proceedings of the 22Nd ACM SIGSOFT International
                                                                                                                          SymposiumonFoundations of Software Engineering (FSE 2014).
                    Refutation Techniques. CVC4 [29] is a refutation-based                                           [3] Rajeev Alur, Rastislav Bodik, Garvit Juniwal, Milo M. K. Martin,
                    tool that also targets the SyGuS formulation. In contrast to                                          Mukund Raghothaman, Sanjit A. Seshia, Rishabh Singh, Armando
                    search-based techniques, refutation-based techniques use                                              Solar-Lezama, Emina Torlak, and Abhishek Udupa. 2013. Syntax-
                    an SMT solver to extracts solutions from unsatisfiability                                             guided synthesis. In Formal Methods in Computer-Aided Design (FM-
                                                                                                                          CAD’13).
                    proofs of the negated form of synthesis constraints. A tech-                                     [4] Rajeev Alur, Arjun Radhakrishna, and Abhishek Udupa. 2017. Scaling
                    nique called counterexample-guided quantifier instantiation                                           Enumerative Program Synthesis via Divide and Conquer. In Proceed-
                    (CEGQI) makes finding such proofs feasible in practice. We                                            ings of 23rd International Conference on Tools and Algorithms for the
                    comparedEuphonytoCVC4onallthebenchmarkproblems                                                        Construction and Analysis of Systems (TACAS ’17).
                    in our evaluation. Euphony solved 26x more instances and                                         [5] M. Balog, A. L. Gaunt, M. Brockschmidt, S. Nowozin, and D. Tarlow.
                                                                                                                          2017. DeepCoder: Learning to Write Programs. In 5th International
                    was4xfaster than CVC4.                                                                                Conference on Learning Representations (ICLR ’17).
                                                                                                                     [6] Pavol Bielik, Veselin Raychev, and Martin Vechev. 2016. PHOG: Proba-
                                                                                                                          bilistic Model for Code. In Proceedings of the 33rd International Confer-
                    7 Conclusion                                                                                          ence on International Conference on Machine Learning (ICML’16).
                    Wepresented a general approach to accelerate search-based                                        [7] Thorsten Brants, Ashok C. Popat, Peng Xu, Franz J. Och, Jeffrey Dean,
                    program synthesis by leveraging a probabilistic program                                               andGoogleInc. 2007. Large language models in machine translation.
                    model to guide the search towards likely programs. Our                                                In Proceedings of the 2007 Joint Conference on Empirical Methods in
                                                                                                                          Natural Language Processing and Computational Natural Language
