                          T. Han et al.                                                                                                                                                                           International Journal of Applied Earth Observation and Geoinformation 133 (2024) 104105 
                                                                                                                                                                                                               4. Experiments
                                                                                                                                                                                                                       In the experiments section, we provide a detailed exposition of
                                                                                                                                                                                                               the experimental details and conduct thorough analysis. Firstly, the
                                                                                                                                                                                                               datasets, evaluation metrics, experimental platform, and parameter
                                                                                                                                                                                                               settings are elucidated. Subsequently, we comprehensively demonstrate
                                                                                                                                                                                                               the effectiveness and necessity of the proposed method through qual-
                                                                                                                                                                                                               itative and quantitative experiments. We compare our method with a
                                                                                                                                                                                                               series of state-of-the-art algorithms, drawing meaningful conclusions.
                                                                                                                                                                                                               Finally, controlled ablation experiments are set up to validate the
                                                                                                                                                                                                               necessity of each module.
                           Fig. 9. Diagram of information passing in fully connected manner and virtual node.                                                                                                  4.1. Datasets and evaluation metrics
                                  Graph Transformer introduces the topological structural properties                                                                                                                   S3DIS: The Stanford Large-Scale 3D Indoor Space Point Cloud
                          of graph on the basis of global context information, providing the model                                                                                                             Dataset (Armeni et al., 2016) comprises 271 rooms from six teach-
                          withstructural spatial priors in high-dimensional space. The advantages                                                                                                              ing and office areas in three different buildings (designated as Area
                          of our AGT are as follows: (1) Achieved stronger representation to cap-                                                                                                              1β€“6). The scenes encompass 11 different locations, including office
                          ture complex relationships between vertices. (2) Acquired the ability to                                                                                                             areas, conference rooms, stairways, educational and exhibition spaces,
                          model long-range dependency. (3) Alleviated issues of over-smoothing                                                                                                                 restrooms, open spaces, lobbies, personal offices, and hallways. The
                          and over-squashing in message passing.                                                                                                                                               semantic labels consist of 13 categories, such as table, chair, ceiling,
                                                                                                                                                                                                               floor, wall, door, window, sofa, and clutter. Out of the six regions, five
                          3.3. Virtual nodes to graph optimize                                                                                                                                                 are utilized for training, while Area 5 is reserved for validation and
                                                                                                                                                                                                               testing.
                                  In order to effectively preserve local and global information during                                                                                                                 ScanNet v2: ScanNet (Dai et al., 2017) is an RGB-D indoor envi-
                          the process of feature learning and transformation, we introduces the                                                                                                                ronments dataset that contains reconstructed indoor scenes with rich
                          specific virtual nodes connected to all vertices in the graph, as shown                                                                                                              annotations for 3D semantic labeling. It provides 1513 scenes for
                          in Fig. 4(c). The virtual node facilitates global message passing more                                                                                                               training and 100 scenes for testing. The dataset provides 40 class labels,
                          effectively without affecting the original vertices and edges attributes.                                                                                                            while only 20 of them are used for performance evaluation.
                                  Thevertex at the end of graph may be lost during the neighborhood                                                                                                                    City-Facade: City-Facade is a new dataset for real-world urban
                          update and sampling process, as shown in Fig. 9. Therefore, a mech-                                                                                                                  building facade semantic segmentation. This dataset is labeled with 8
                          anism is needed to maintain the consistency of graph structure. One                                                                                                                  semantic classes from various building styles, including wall, window,
                          strategy is to employ a fully connected approach for message passing,                                                                                                                door, roof, advertisement, air condition, rain shed, and balcony.
                          similar to conditional random fields (CRF), but it is evident that this                                                                                                                      Toronto 3D: Toronto 3D (Tan et al., 2020) is a large-scale urban
                          is not suitable for larger graphs. The virtual node is able to establish                                                                                                             outdoor point cloud dataset with 8 labeled object classes. This dataset
                          relationships with all vertices (adjacent to all vertices and connected to                                                                                                           is divided into four sections, and each section covers road about 250 m.
                          all edges), enabling the possibility of global message passing. This oper-                                                                                                           All points were preserved from real-world scenarios.
                          ates independently of AGT and serve as a complementary information                                                                                                                           Semantic KITTI: Semantic KITTI (Behley et al., 2019) is one of
                          aggregation for both global-vertex and global-edge contexts. Boosting                                                                                                                the largest urban point cloud dataset for semantic segmentation. This
                          Graph Structure Learning (Liu et al., 2022a) has demonstrated almost                                                                                                                 dataset covers 40 km with 4.5 billion points, and is labeled with 25
                          all graph models benefit from the inclusion of virtual nodes.                                                                                                                        classes. Semantic KITTI is more focused on autonomous driving tasks.
                                  For each layer, we introduce virtual node ν µν±ƒν µν± to facilitate message                                                                                                                 Evaluation Metrics: It includes the class-wise mean of intersection
                          passing, acting similar to a centroid in the graph to preserve its geo-                                                                                                              over union (mIoU), class-wise mean of accuracy (mAcc), and point-wise
                          metric structure. ν µν±ƒν µν± establishes edges ν µν°Έν µν±ν µν±—;ν µν±— β ν µν±(ν µν±–) to all vertices in                                                                                                       overall accuracy (OA). For S3DIS, we use all three evaluation metrics.
                          the graph. The formulation of virtual node aggregation is expressed as                                                                                                               For ScanNet, mIoU is used for evaluation. And IoU is utilized for class-
                          follows:                                                                                                                                                                             level evaluation. For City-Facade, Toronto 3D, and Semantic KITTI, we
                          ν µν°µν µν±  =           1          β‘ ν µν°Ήν µν± ν µν°Έν µν±                                                                                                                          (10)                  use mIoU for semantic segmentation evaluation.
                                       ν µν±(ν µν±–) ν µν±—βν µν±(ν µν±–)             ν µν±—     ν µν±ν µν±—
                          Note that we opted for summation, which is more easily normalized,                                                                                                                   4.2. Experimental setups and data augmentation
                          rather than concatenation. After aggregating the features of all vertices                                                                                                                    Experimental Setups: We trained our models using CrossEntropy
                          ν µν±—   at the ν µν±ƒν µν±, the virtual node is passed to the next ν µν±  + 1 stage of the                                                                                                         loss with label smoothing, AdamW optimizer, an initial learning rate
                          network. Global features are distributed by the virtual node in the
                                                                                                                                                                                                                                  β’2                                                            β’4
                          graph of the next layer. The mathematical expression for distributing                                                                                                                ν µν±™ν µν±   = 1ν µν±’             , and weight decay 10                                          with Cosine Decay, in a NVIDIA
                          features can be formulated as:                                                                                                                                                       80G A100 GPU. The best model on the validation set is utilized for
                          ν µν°Ήν µν± +1 = ν µν°µν µν± ν µν°Έν µν± +1                                                                                                                                            (11)                  testing. For S3DIS and City-Facade segmentation, point cloud are voxel
                             ν µν±—β€²                     ν µν±—β€²ν µν±                                                                                                                                                     downsampled with a voxel size of 0.04 m. For ScanNet, the voxel size
                          The virtual node is considered as a potential central node, which is                                                                                                                 is set to 0.02 m. For Toronto 3D and Semantic KITTI, the voxel size of
                          connectedtotheverticesofthegraphthroughspecialedges.Thevirtual                                                                                                                       outdoor semantic segmentation is set at 0.08 m.
                          node serves as a temporary storage space (information repository) for                                                                                                                        Data Augmentation: We follow PointNeXt (Qian et al., 2022) and
                          global context, facilitating long-distance message passing and ensuring                                                                                                              use data scaling, height appending, and color drop for data augmenta-
                          the sharing of information for each vertex.                                                                                                                                          tion.
                                                                                                                                                                                                        7 
