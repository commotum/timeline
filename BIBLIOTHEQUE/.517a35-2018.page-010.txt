                 PLDI’18, June 18–22, 2018, Philadelphia, PA, USA                                      WoosukLee,KihongHeo,RajeevAlur,andMayurNaik
                 5 Evaluation                                                                         The Bitvec benchmarks comprise 750 problems from
                                                                                           2       theSyGuScompetition.Theseproblemsconcernfindingpro-
                 WehaveimplementedourapproachinatoolcalledEuphony                                  gramsequivalent to randomly generated bit-manipulating
                 that we built atop EUSolver [4], an open-source search-                           programs from input-output examples. The benchmarks are
                 basedsynthesizer.Euphonyconsistsof15,416linesofPython                             motivated by problems in program deobfuscation [17]. The
                 code and 4,375 lines of C++ code. Our tool is available for                       grammarweusedforthisdomainisshowninFigure4,and
                 downloadathttps://github.com/wslee/euphony.                                       the specification comprises between 10 to 1000 examples.
                    WeevaluateEuphonyonsynthesistaskscollected from                                   TheCircuitbenchmarkscomprise212problems from
                 the SyGuS competition benchmarks and online forums. Our                           the SyGuScompetition.Eachproblemis,givenacircuitC,to
                 evaluation aims to answer the following questions:
                   Q1: HowdoesEuphonyperformonsynthesistasksfrom                                   synthesize a constant-time circuitC′ (i.e. cryptographically
                         a variety of different application domains?                               resilienttotimingattacks)thatisfunctionallyequivalenttoC.
                   Q2: Howeffective are the probabilistic models learnt by                         Thebenchmarksaremotivatedbyattacks on cryptographic
                         Euphonyfromeasilyobtainable solutions?                                    modules in embedded systems. The grammar we used for
                   Q3: How does Euphony compare with existing general-                             this domain is shown in Figure 5, and the specification is a
                         purpose and domain-specific synthesis techniques?                         boolean formula expressing the functional equivalence.
                   Q4: Whatisthebenefit of contextual information and dis-                         BaselineSolvers. WecompareEuphonytoexistingsynthe-
                         tance estimation for guiding synthesis in Euphony?                        sis tools. For all of the three domains, we compare with a
                 All of our experiments were conducted on Linux machines                           general-purpose tool, EUSolver, which is the winner of the
                 with AMDOpteron3.2GHzCPUsand128Gofmemory.                                         general track in the 2017 SyGuS competition. It uses search-
                                                                                                   based synthesis, namely, the divide-and-conquer enumer-
                 5.1    ExperimentalSetup                                                          ation strategy. We also compare Euphony with a domain-
                 Synthesis Tasks. We chose synthesis tasks from three dif-                         specific synthesis tool FlashFill [12] for the String domain.
                 ferent application domains: i) string manipulation (String),                      5.2    Effectiveness of Euphony
                 ii) bit-vector manipulation (BitVec), and iii) circuit trans-                     Weevaluate Euphonyonsynthesis problems from all three
                 formation (Circuit). We chose these domains based on the                          domains and compare it with EUSolver. We wish to deter-
                 following criteria:                                                               minewhetherEuphonycanlearnastatisticalmodelbytrain-
                 • Diversity. These domains exercise different logics sup-                         ing on solutions of easy problems (obtainable by running
                    ported by synthesis solvers, i.e. SMT theories of strings,                     existing synthesis tools) and generalize it to solve harder
                    bit-vectors, and SAT, respectively.                                            problems. For each domain, we use all problems that the
                 • NumberofProblems. Since Euphony learns and applies a                            baseline tool EUSolver could solve within 10 minutes each
                    probabilistic model within a domain, we require a sufÏ-                        as the training set, and we train the model for that domain
                    cient number of problem instances in the domain (> 200)                        using the solutions found by EUSolver. We use all the re-
                    for training and testing purposes.                                                                                                                 3
                 • DifÏculty. Each of these domains contains unsolved prob-                        maining problems in the domain as testing instances. For
                    leminstances using existing solvers such as EUSolver.                          eachsuchinstance,wemeasuretherunningtimeofEuphony
                                                                                                   and the size of the synthesized program, using a timeout of
                 Benchmarks. We collected all benchmarks from the 2017                             one hour. We also assess the difÏculty of each such instance
                 SyGuScompetition[31]intheabovedomains.Weaugmented                                 bymeasuringtherunningtimeofEUSolverontheinstance,
                 the string-manipulation tasks with popular online forums                          using the same timeout limit of one hour.
                 for programming tasks, Stackoverflow [30] and Exceljet [10]                          Theresults are summarized in Table 3. Euphony is able
                 because of the shortage of SyGus benchmarks.                                      to solve 236 out of 405 problems from the three domains
                    TheStringbenchmarkscomprise205tasks,includingall                               cumulatively, with average and median times of 11m and 2m.
                 108 from the SyGuS competition, 37 queries by spreadsheet                         Ontheotherhand,EUSolverisabletosolveonly87ofthe
                 users in StackOverflow, and 60 articles about Excel program-                      problems, with average and median times of 29m and 26m.
                 ming in Exceljet. All benchmarks correspond to common                             Wenextstudytheresults for each domain in detail.
                 data manipulation tasks faced by spreadsheet users. The                           Result for String. Out of 82 problems, Euphony could
                 grammarweusedforthisdomainisshowninFigure6,and                                    solve 27 problems, with average and median times of 6m
                 the specification comprises between 2 to 400 examples.
                                                                                                   3We used solutions found by an existing solver instead of hand-written
                 2Oursolver is a successor of the tool with the same name that participated        solutions in order to demonstrate a usage scenario in which Euphony could
                 in the 2017 SyGuS competition [31]. The competition version did not use           be readily applicable. However, we can also use hand-written solutions in
                 transfer learning (described in Section 4) and suffered from overfitting.         settings where such solutions are available.
