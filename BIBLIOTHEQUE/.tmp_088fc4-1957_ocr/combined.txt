=== Page 1 ===
A Markovian Decision Process

RICHARD BELLMAN

1. Introduction. The purpose of this paper is to discuss the asymptotic
behavior of the sequence {fy(z)}, 7 = 1,2, ---, M,N = 1, 2, +--+ , generated
by the non-linear recurrence relations

(1) fv@ = Max Bo + p> auld fal | ’ N =1,2,+--,

fi) =e, i= 1,2,--- ,M.

Although these equations are non-linear, they possess certain quasi-linear
properties which permit a more thorough discussion than might be imagined
upon first glance.

As we shall discuss below, this question arises from the consideration of a
dynamic programming process. A related process gave rise to an equation of the
above form which was discussed in [1], under a particular set of assumptions
concerning the functions b;(q) and the matrices A(q) = (a,;(q)). Here we shall
impose restrictions of a quite different type. Any complete discussion of relations
of the foregoing type is at least as detailed as a corresponding discussion of the
linear case, and, as in the linear case, the assumptions made determine the
techniques employed to a considerable extent.

We shall discuss elsewhere some interesting quadratically non-linear recur-
rence relations which arise from specializing the forms of 6;(q) and a,;(q).
These are related to the types of differential equations discussed in [8], being
essentially a particular type of discrete version.

It will be clear from what follows that similar techniques can be utilized to
treat the determination of the asymptotic behavior of the sequences defined by

fala) = Max | ve, @) + [Kee v, Of aw), N=1L,,
(2) a °
fo(x) = ¢(z), 0S281,
and by the equation
Us = Ci , 4=0,1,--- ,k,

under corresponding assumptions.
679

Journal of Mathematics and Mechanics, Vol. 6, No. 5 (1957).


=== Page 2 ===
680 RICHARD BELLMAN

2. Statement of Results. We shall suppose that the functions 0,(q) and
a;;(q) satisfy either of the following sets of conditions:

A. The functions b;(q) and a,;(q) are functions of finite dimensional vectors
q whose components assume only a finite set of values, which, in general,
(1) depend upon ¢ and j.
B. The functions 6;(q) and a;;(q) are continuous functions of finite dimen-
sional vectors whose components assume values in certain closed, bounded
regions in q-space, which, in general, depend upon 7 and j.

Either of these sets of conditions ensures that the maximum is assumed in
the recurrence relations of (1.1).
Our principal result is

Theorem. Let us assume that either (1A) or (1B) is satisfied and that
a. b(q) 20 and bq) >0 ~~ forsomeiandaila,

M
Cc. > a;(q) = 1, 7=1,2,---,M.
g=l

In other words, A(q) ts for each q the transpose of a positive Markoff matrix.
Under these conditions, we have the asymptotic result

where the scalar quantity r ts obtained as follows:
N-1
4) rl = Max lim EE + A(qb(q) + +: + AG) be |.
a Nao N

Here

1 b(q)

1 be
(6) r=|'1, va =)"),  4@ = @i@),

1 by(q)

and maximization over q means maximization over all the vectors q appearing in
all the relations of (1.1).

3. Preliminaries on Markoff Matrices. Before proceeding to the proof of
this result, let us note for future reference some known results concerning the
asymptotic behavior of the iterates of the transpose of a positive Markoff matrix.

If y is a non-negative non-trivial vector, we have

(1) Aty ~~ rl,


=== Page 3 ===
A MARKOVIAN DECISION PROCESS 681

where r is a scalar quantity dependent upon y, and 1, as above, denotes the
vector defined in (2.5). Furthermore, the limit

(2) lim )) A*y ~— nrl = x

noo k=]
exists and yields a vector x which satisfies the system of linear equations
(3) rl+x=y+t Ax.

These results are well known from the theory of Markoff chains, or else may
be viewed as simple consequences of PERRON’s theorem asserting the existence
of a positive characteristic root of largest absolute value of a positive matrix.
The associated characteristic vector may be taken to be 1.

4. Proof of Theorem. We begin the proof of the theorem with a discussion
of the linear system of (8.3). Let q denote a value of q which maximizes the
limit in (2.4). It is easy to show that the assumptions we have made concerning
the range of values of q ensure the existence of a maximizing g. Let r = r(@)
denote the maximum value of r determined by q, and let x = x(q) denote the
vector determined by (8.2).

Then we have the system of equations

(1) r+2;, = b() + 2, ai@ey; , é=1,2,---,M.

Actually, each q above should be q; , but we feel no confusion will result if we
omit this subscript and use a generic @q.

Our first task is to show that this linear system is equivalent to the non-linear
system

in the sense that the set of x; satisfying (1) also satisfies (2).
It is clear, to begin with, that

(8) r-+ 2; S Max Eo + ¥ anlar | » @=1,2,-+-,M.
q 7=1

If the x; do not satisfy (2), there will be strict inequality in at least one of the
relations in (8). Without loss of generality, let the strict inequality occur in the
first relation. Finally, let q’ be a value of q yielding the maximum on the right

side of (2). Again we drop the subscripts in q’ and use a generic symbol to simplify
the notation.


=== Page 4 ===
682 RICHARD BELLMAN

We then have the inequalities
M
r+a< b,(q’) + » a1;(q’) a; ,
(4) i
M
ful

The first inequality can be strengthened to read

(5) (+ arta S bla) + Dy auladey

where a is a positive quantity.
Let us now iterate these inequalities. We obtain

N N
(6) r+a;,s bq’) + > a;;(q’)b;(q’) + > as; (q’)a;

—r— ara;,(q’), i= 1,2,---,M,

where (a;}(q’)) = A(q’)’.
Since, by hypothesis, a;,(q’) 2 d > 0, we obtain, upon reverting to matrix
notation,

(7) x < b(q’) + A(q’)bq’) + A(q’)’x — r(2 4+ ad)1.
Let us now iterate this inequality N times. The result is
(8) x S bq’) + A(q’)b@Q’) + +++ + AQ’)’""b@’) + AQ’)"x — N@ + ad),

upon recalling that A(q’)"1 = 1.
The maximal property of r = r(q) asserts that the vector

(9) b(q’) + A(q’)b(q’) +--+ + A(q’)?”"b(q’) — N(2 + ad)1

becomes an arbitrarily large negative vector as N increases. This contradicts
(8) for sufficiently large N.
Hence (2) is equivalent to (1).

5. Proof of Theorem (Continued). It is now easy to complete the proof
of the theorem. Let r and x; be the quantities defined above. We wish to show
that fy(4) satisfies the inequality

(1) Nr+2:;—-kS fy SNr+a,+k

for? = 1,2,---,MandN = 1, 2, --+ with a suitable choice of k.
The proof is inductive. Choose k so that the inequalities hold for N = 0.
Suppose that they are valid for n = 0, 1, --- , N. Then (1.1) yields


=== Page 5 ===
A MARKOVIAN DECISION PROCESS 683
M
fusift) S Max Bo + 2 a.(q)[Nr + 2; + a]

(2) SNr+k+ Max Bo + 2 alae

SNr+k+rt+a,=(N4+D)r+2;,+ hk.

The lower bound is established in the same manner.
The inequalities in (1) above yield the desired asymptotic behavior, and
even a more precise result.

6. Discussion. As in the theory of Markoff processes, the condition a,;(q) =
d > 0 can be considerably relaxed at the expense of more detailed discussion.
However, as the study of Markoff processes show, it cannot be relaxed to mere
non-negativity. The essential restriction is that the equations describe one
interlinked system, rather than two independent systems arbitrarily considered
as one system. The condition a,;(q) 2 d > 0 is one way of ensuring this, but
clearly there are many others. The simplest, perhaps, are those obtained from
powers of the matrix, z.e. a{(q) = d > 0, where A(q)* = (a? (q)).

7. A Dynamic Programming Process. Let us now briefly describe a dynamic
programming process, [2], which gives rise to recurrence relations of the type
considered above.

Consider a machine which is used repeatedly to produce a certain type of
item. At each stage there is a probability that the machine produces a perfect
item, a probability that it produces a defective item, and a probability that the
machine breaks down and requires repair. These probabilities depend upon the
age of the machine.

Examining the matter in more detail, let us suppose that there are k different
sources of failure within the machine, leading to either defective items or break-
down of the machine or both, Let us define the following probabilities:

(1) p,(n) = probability that a machine breaks down due to failure at the
a source after it has successfully produced n items,

q:(n) = probability that a defective item will be produced due to hidden

failure at the 7 source after 7 items have been successfully produced.

At any particular stage, we face the problem of deciding whether to examine
the machine for possible failure at one of the sources of trouble or to wait until
a defective item is produced. In addition, if a defective item is produced, there
is the question of whether we should repair the machine insofar as the immediate
source of failure is concerned, whether we should in addition examine other
potential sources of failure, or whether we should automatically provide new
parts at various sources of failure, without preliminary inspection.

The decisions, of course, will be dependent upon the costs incurred in carrying


=== Page 6 ===
684 RICHARD BELLMAN

out these operations, the costs due to defective parts, and the costs due to
breakdown of the machine.

The state of the system at any time can be characterized by the set of numbers
(m1, M2, °** , %) Specifying the number of items n; produced since the 7™ source
of trouble was examined.

The problem is then to determine the inspection and replacement policy
which minimizes the expected unit cost of production.

To treat this problem, we begin with the problem of determining the policy
which minimizes the expected cost of producing N items. Define the sequence
of functions

fu(™1,%,-°°, Mm) = expected cost of producing N items using an optimal
inspection and replacement policy starting in state
(mM, +++, Mx).

In view of the above discussion, it follows that the effect of any decision, to
produce without inspection or repair, to inspect with possible replacement, or
to replace, is to transform the system from its present state into another state.
Assume that only a finite number of states are permissible, and enumerate

them in some order, 7 = 1, 2, --- , M. Any particular decision, designated by q,
leads to a recurrence relation

M
(2) fr) = bq) + 2 ai(D Sx).

The principle of optimality, cf. [2], asserts that q is chosen so as to yield the
equation

(8) fv@ = Min Bo + d anldsua |

The theorem proved above in §2 states that there is a steady state optimal
policy to which we converge as N — ©, provided that the a,;(q) satisfy certain
restrictions.

As we have discussed above, the natural condition is that the system be inter-
linked, z.e. not separable into two distinct systems.

Particular examples of processes of the above general type are discussed in
{4] and [5].

REFERENCES

{1] Bettman, R., On a quasi-linear equation, Can. Jour. Math. 8 (1956) pp. 198-202.

{2] , Dynamic Programming, Princeton University Press, 1957.

[3] , Functional equations in the theory of dynamic programming, II. Nonlinear dif-
ferential equations, Proc. Nat. Acad. Sci. 41 (1955) pp. 482-5,

[4] —--——-, Equipment replacement, Jour. Soc. Ind. Appl. Math. 3 (September, 1955) No. 3.

[5] Dreyrus, 8., 4 Nole on an Industrial Replacement Process, The Rand Corporation Paper
P-1045, March, 1957.

The Rand Corporation
Santa Monica, California


