                           3.2  Pretty-CLEVR
                           Given that bAbI did not require multiple steps of relational reasoning and in order to test our
                           hypothesis that our proposed model is better suited for tasks requiring more steps of relational
                           reasoning we create a diagnostic dataset “Pretty-CLEVER”. It can be seen as an extension of the
                          “Sort-of-CLEVR” data set by [Santoro et al., 2017] which has questions of a non-relational and
                           relational nature. “Pretty-CLEVR” takes this a step further and has non-relational questions as well
                           as questions requiring varying degrees of relational reasoning.
                                                                   RRN(1)       RRN(2)        RRN(3)       RRN(4)
                                                                   RN           Random        MLP
                                                          1.0
                                                          0.8
                                                          0.6
                                                         Accuracy0.4
                                                          0.2
                                                          0.00      1      2       3       4      5       6      7
                                                                                  Question jumps
                                  (a) Samples.                                   (b) Results.
                           Figure 2: 2a Two samples of the Pretty-CLEVR diagnostic dataset. Each sample has 128 questions
                           associated, exhibiting varying levels of relational reasoning difﬁculty. For the topmost sample the
                           solution to the question: “green, 3 jumps”, which is “plus”, is shown with arrows. 2b Random
                           corresponds to picking one of the eight possible outputs at random (colors or shapes, depending on
                           the input). The RRN is trained for four steps but since it predicts at each step we can evaluate the
                           performance for each step. The the number of steps is stated in parentheses.
                           Pretty-CLEVR consists of scenes with eight colored shapes and associated questions. Questions are
                           of the form: “Starting at object X which object is N jumps away?”. Objects are uniquely deﬁned
                           bytheir color or shape. If the start object is deﬁned by color, the answer is a shape, and vice versa.
                           Jumps are deﬁned as moving to the closest object, without going to an object already visited. See
                           ﬁgure 2a. Questions with zero jumps are non-relational and correspond to: “What color is shape X?”
                           or “What shape is color X?”. We create 100,000 random scenes, and 128 questions for each (8 start
                           objects, 0-7 jumps, output is color or shape), resulting in 12.8M questions. We also render the scenes
                           as images. The “jump to nearest” type question is chosen in an effort to eliminate simple correlations
                           between the scene state and the answer. It is highly non-linear in the sense that slight differences in
                           the distance between objects can cause the answer to change drastically. It is also asymmetrical, i.e.
                           if the question “x, n jumps” equals “y”, there is no guarantee that “y, n jumps” equals “x”. We ﬁnd it
                           is a surprisingly difﬁcult task to solve, even with a powerful model such as the RRN. We hope others
                                                                      2
                           will use it to evaluate their relational models.
                           Since we are solely interested in examining the effect of multiple steps of relational reasoning we
                           train on the state descriptions of the scene. We consider each scene as a fully connected undirected
                           graph with 8 nodes. The feature vector for each object consists of the position, shape and color. We
                           encode the question as the start object shape or color and the number of jumps. As we did for bAbI
                           weconcatenate the question and object features and pass it through a MLP to get the node features
                           xi. To make the task easier we set the edge features to the euclidean distance between the objects.
                           Wetrain our network for four steps and compare to a single step relational network and a baseline
                              2Pretty-CLEVR is available online as part of the code for reproducing experiments.
                                                                          5
