                                  2       Wen. et al.
                                                       4D                                                     segmentation
                                                     Backbone             Primitive Feature
                                                                                                              classification
                                             Primitive        Intra-Primitive 
                                              Fitting        Point Transformer
                                                                          Precomputed 
                                                                          Primitive Feature
                                                                     …                          …
                                                                                           Primitive Transformer
                                            Input clip      Full size video
                                  Fig.1. Architecture of Primitive Point Transformer. On the lower level, PPTr extracts
                                  short-term spatial-temporal features through an intra-primitive point transformer for
                                  a short video clip around the frame of interest. On the upper level, PPTr extracts
                                  long-term spatial-temporal features through a primitive transformer.
                                  and dimension of 4D data can easily cause memory and computation explosions.
                                  Both challenges grow dramatically as the length of the video increases.
                                       One typical way to tackle the dynamics of point clouds videos is treating
                                  the point cloud video as a 4D volume [6], which applies 4D convolution directly
                                  after voxelization. It is computationally prohibitive when processing large scenes
                                  and long videos. Compared with transformer-based 4D backbones, pure convo-
                                  lution is less effective at capturing long-term spatio-temporal context. However,
                                  the existing transformer-based 4D backbone(P4Transformer [10]) also fails to
                                  solve the above challenges. The entire point cloud video still needs to be loaded
                                  into memory during the training process, which severely limits the length of
                                  the point cloud video (for example, a 24GB graphics card can only handle a
                                  synthia4D [34] point cloud video of 3 frames). Additionally, even though flat
                                  transformers may be able to capture long-term context theoretically, they are
                                  difÏcult to optimize as point numbers increase and usually do not provide much
                                  gain in dense prediction tasks, such as 4D semantic segmentation.
                                       Based on the challenges described above, we have several key observations.
                                  First, considering the large variety of points, distance point cloud frames should
                                  not be extracted at the point level, as this is neither efÏcient nor effective. Sec-
                                  ond, a middle-level abstraction representing the underlying geometry spatially
                                  and temporally can be better suited for context modeling, which will not only
                                  alleviate the need to process raw points for better efÏciency but also allow for
                                  easier association across frames for a more effective spatial-temporal structure.
                                  After revisiting the geometry processing literature, we choose primitive plane as
                                  a mid-level representation, which describes the underlying planar structures in
                                  a scene and tends to be much more stable across frames.
                                       In this paper, we leverage primitive planes to develop an efÏcient and ef-
                                  fective 4D backbone named Point Primitive Transformer(PPTr). As primitive
                                  planes induce a natural scene-primitive-point hierarchy in space, we also design
                                  PPTr as a hierarchical transformer operating on two different levels as shown
