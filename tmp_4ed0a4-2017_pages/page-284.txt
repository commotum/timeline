                           9.5.  MARTINGALES          271
          As we have said  (trying to  make the game more natural),  we get  the same 
       definition  if we  allow  the gambler to  make a bet  of fixed size  at  some  moments 
        (having the unlimited credit needed for long sequences of losses),  and we require 
       that the gambler’s average gain (per game) tends to zero as the number of games 
       increases.  One can also allow variable bets of bounded size to be made; see above.
          J.  Ville suggested another setting that looks more natural.  Here the gambler 
       comes to the casino with some fixed amount of money,  say $1.  Before a coin is 
       tossed,  the gambler splits the capital into  two parts:  the first  is used to make a 
       bet on 0, and the second is used to make a bet on 1.  One of the bets is successful; 
       the corresponding amount is doubled (and the other part is lost).  For example, a 
       cautious gambler may split the current amount into two equal parts, then one is lost 
       and the other one is doubled, so the capital remains unchanged.  (It is clear therefore 
       that a special option to leave some part of the money aside is not necessary, it can 
       be emulated anyway.)  Now we cannot go into negative,  so both parts should be 
       non-negative numbers.
          After a game is described, it is clear how the notion of a gambler’s strategy in 
       this game should be defined:  a strategy is a function that maps the history of the 
       game (the sequence of already seen bits)  to the next move  (how much should be 
       bet on 0 and on  1).  In fact, we will use more a convenient  representation of the 
       strategy:  let m(x) be the gambler’s capital after playing with x (if she follows the 
       strategy).  This  (non-negative)  function  determines the strategy uniquely:  After 
       seeing x,  we  bet  m(:r0)/2  on  0  and  m(x 1)  on  1.  Not  all non-negative  functions 
       correspond to strategies; two conditions are necessary (and sufficient):
           •  m{A) — 1  (as we agreed, the initial capital when we observed the empty 
             string A equals 1);
           •  m(x) — (m,(x0) + m(x 1 ))/2  (the sum of bets on both outcomes is equal 
             to the current capital).
          A non-negative function m that has both properties is called a martingale with 
       respect to  the uniform measure on the  Cantor space.  Later we also consider mar­
       tingales with respect to other measures on the Cantor space.  In probability theory 
       a more general notion of martingale is used, but for our purposes this will be suffi­
       cient.  So from now on we speak mostly about martingales instead of corresponding 
       strategies.
          Let v be an arbitrary measure on the Cantor space.  It is easy to check that 
       the ratio v(Ctx)/p(Q,x)  (here p is the uniform measure on the same space and Ltx 
       is the set of all extensions of x)  is a martingale, and every martingale is obtained 
       in this way from some measure.
          263 Show that this is indeed the case.
          The following intuitively obvious statement is sometimes called the Doob  in­
       equality or Kolmogorov inequality.
          Theorem 175.  Let m be some martingale, and let к be some positive threshold. 
       Consider the set of strings where the martingale exceeds k,  and consider all infinite 
       sequences that have a prefix in this set.  Then the  (uniform)  measure of the set of 
       all these sequences does not exceed 1/k.
          Proof.  Let us follow the strategy that corresponds to m, but when the capital 
       achieves к (or more), we stop playing and go home.  This modified strategy has an
