            420                      13.  INFORMATION AND LOGIC
            common point, and two coinciding lines have 2n common points.  The lines b' and 
            b"  coincide with probability  1 / 1 Md |,  thus the average number of common points 
            in b' and b" does not exceed 1 + 2n/1 Md |.  Hence
                 £ |B C|2<  \Md\2(l + 2n/\Md\)= \Md \2 +               (I Mi I  + 2n)2.
                  c
                Recall that the number of pairs (a, b) in the slice identified by the plane d is at 
            most       I Ac 12 J2c I Be 12 •  Therefore it does not exceed
                                y/23n(\Md \ + 2n )2 = 21,5n( I Md I  +2n)
            (up to a constant factor).
               It  remains to sum up the resulting upper bounds of slice’s cardinalities over 
            all d:
                       |S|  < 2l*nY,(.\Md\ +2n) = 215n( ^ \Md\+J22n
                                    d                    \   d         d
            The families Md are disjoint and hence the sum of their cardinalities is equal to the 
            total number of lines (about 24n).  The number of planes is about 23n and therefore 
            the second sum is also about 24n.  This completes the proofs of both the lemma 
            and of the lower bound for the complexity of the problem (a —> c) A (b —> d).
               To  complete the proof of the  theorem  it  remains  to  find  another  quadruple 
            (a, b, c, d) that has the same complexities as (a, b, c, d) and such that the complexity 
            of the problem (ä —> c) A (b —> d) is close to n.
               To  achieve this,  we pick a random word of length In and chop it into seven 
            pieces u,v,w,p,q,r, s,  each of length n.  Then let  ä — uvws, b — pqrs, c = ups, 
            d  =  vqs.  A  simple  counting  reveals  that  the  complexities  of words  from  both 
            quadruples, their pairs, etc., are equal to
                                C(a) = C(b) = An,   C(c) = C(d) = 3 n,
                                            C(a, b) = 7n,
                          C(a, c) = C(a, d) — C(b, c) — C(b, d) — C(c, d) — 5n,
                                      C(a, c, d) — C(b, c, d) — 6n,
                               C(a, b, c) = C(a, b, d) = C(a, b, c, d) = In.
           The complexity of the problem (ä —> c) A (b —> d) is close to n, since given bitwise 
           XOR of p and v we can transform ä to c, and b to d.
               Probabilistic version.  Again we start with exhibiting a quadruple än,bn,cn, dn 
           such that the difference between complexity of (än —> cn) A (bn —> dn)  and both 
           lower bounds from Problem 342 is linear in n.
               Fix a natural n.  We will find a quadruple of strings  (à, b, c, d), each of length 
           n and complexity close to n, such that complexities of all pairs of those strings are 
           close to  2n and complexities of all triples and of the quadruple itself are close to 
           3n.  This implies that both lower bounds from Problem 342 for that quadruple are 
           close to n.  Besides, the complexity of the problem (a —> c) A (b —> d) will be close 
           to 2n.
               On the top level the construction is the following.  Consider functions Q that 
           map triples of words of length n to words of length n.
