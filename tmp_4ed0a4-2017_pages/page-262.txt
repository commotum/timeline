                                      8.5.  FORBIDDEN  SUBSTRINGS                       249
                In other words, we want to prove the satisfiability of a formula in a conjunctive 
            normal  form  (CNF),  i.e.,  a  conjunction  of several  clauses.  For  example,  in  the 
            formula
                                    (->a V b V с) Л (a V с V ->d) A • • ■
            the first clause (~>a V b V c)  forbids the combination of values a = 1,  6 = 0, c = 0. 
            Our goal is to find a satisfying assignment,  a combination of values that satisfies 
            all the requirements.
                Assuming that all variables are independent, we observe that disjoint clauses 
            (that do not have common variables) are independent.  So, if we want to apply the 
            LL, we have to bound the number of clauses that contain a given variable.
                Let us fix some notation.  Let lj — cjocjicj2 • • •  be an infinite sequence of bits. 
            For a finite set F C N, we denote by w(F) a string composed of    for i  e F  (in 
            order of increasing i).  Consider a pair (F, X) where F is a finite set of indices and 
            X is a binary string whose length is equal to the cardinality of F.  We say that a 
            sequence w is forbidden by the pair (F, X) if w(F) = X.  We call the pair (F, X) a 
            restriction,  and the number of elements in X is called the size of this restriction. 
            We say that the restriction  (F, X)  covers the indices in F.  Now we are ready to 
            formulate and prove the statement we spoke about [158]:
                Theorem  161.  Let a  €  (0,1)  be  a  constant.  Assume  that we  have  a set  of 
            restrictions  (F,X)  such that for every position i  and for every positive integer n 
            there are at most 2an restrictions of size n that cover i.  Then there exist a number 
            N  and a sequence  that is  not forbidden  by any  of the  restrictions  of size greater 
            than N.
                PROOF.  For compactness reasons, it is enough to prove the statement for finite 
            sequences (and for some N that is the same for all lengths).
                For each restriction we have the event  “this restriction is violated”.  The prob­
            ability of such an event for a restriction of size n is 2~n.  To apply the LL, let us 
            choose Ei  for restrictions of size n as 2~l3n where ß is some constant  in  (a. 1)  (in 
            fact, every value in this interval can be used).
                The neighbors of some restriction are the restrictions that have common vari­
            ables with the first one.  To apply the LL, we need to consider a restriction of size 
            n and check that 2~n  does not exceed 2~l3n times the product  of all the factors 
            (1 — 2~@m) for all neighbor restrictions.
               We split the product into parts that correspond to common variables.  There 
            are  n  parts  (for  each  of the  variables  involved  in  the  restriction).  If a neighbor 
            shares two or more variables, we arbitrarily break the tie and choose one of them. 
            In each part, we classify the factors according to their sizes.  Then for each variable 
            and for each size m, we get at most 2am factors, each equal to (1 — 2~l3rn).  Then 
            we take the product  over all m,  and the nth power  (since we have n parts that 
            correspond to n possible common variables).  So we need to show that
                                   2_n ^ 2-ßn  Y[{1- 2~ßm)2“"'n:
                                               m>N
            or (since all the terms are nth powers)
