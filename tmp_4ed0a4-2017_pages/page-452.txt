                                    14.4.  HYPOTHESES  OF RESTRICTED TYPE                        443
             way we get
                    (the number of non-deleted strings in Ao П A\ П • ■ ■ П As) ^ a  >s2Ja'/2,
             where a stands for the poly(n)-factor mentioned above.2
                 Up to now we assumed that the set of deleted elements is fixed.  What happens 
             when more strings are deleted?  The number of the non-deleted elements in Aq П 
             •••rij4s can decrease, and at some point and for some s it can become less than the 
             declared threshold vs = a"s2J“/2.  Then we can find minimal s where this happens 
             and rebuild all the sets As, .As+i,... (for As the threshold is not crossed due to the 
             minimality of s).  In this way we update the sets As from time to time, replacing 
             them (and all the consequent ones) by new versions when needed.
                 The problem with this construction is that the number of updates  (different 
             versions of each As)  can be too big.  Imagine that after an update some element 
             is  deleted,  and  the  threshold  is  crossed  again.  Then  a new  update  is  necessary, 
             and after this update the next deletion can trigger a new update, etc.  To keep the 
             number of updates reasonable, we will ensure that after the update for all the new 
             sets Ai  (starting from As)  the number of non-deleted elements in Aq П • • • П A\,  is 
             twice bigger than the threshold щ = a~l2v /2.  This can be achieved if we make the 
             factor a twice as big:  since for As_\  we have not crossed the threshold, for As we 
             can guarantee the inequality with additional factor 2.
                 Now let  us prove the bound for the number of updates for some As.  These 
             updates  can  be of two  types:  first,  when  As  itself starts  the  update  (being  the 
             minimal s where the threshold is crossed); second, when the update is induced by 
             one of the previous sets.  Let  us estimate the number of the updates of the first 
             type.  This update happens when the number of non-deleted elements  (that was 
             at least 2us immediately after the previous update of any kind) becomes less than 
             vs.  This means that at least us elements were deleted.  How can this happen?  One 
             possibility is that a new bad set of complexity at most is  (a large bad set) appears 
             after the last update.  This can happen at most 0(2îs)-times, since there are at most 
             0(2?)-objects of complexity at most i.  The other possibility is the accumulation 
             of elements deleted due to small bad sets, of complexity at least is  and of size at 
             most 2Js.  The total number of such elements is bounded by nO(2îs+j4), since the 
             sum ii + ji  may only decrease as I increases.  So the number of updates of As not 
             caused by large bad sets is bounded by
                 nO(2is+j*)/4      0 {п21«+э°)    0 (nas2is) = 2is+N°(lo&n') — 2*s+°(v/nlogrd
                                     a~s2i°
             (recall that s < N,  a = poly(n), and N « ^Jn/ logn).  This bound remains valid 
             if we take into account the induced updates (when the threshold is crossed for the 
             preceding sets:  there are at most N ^ n these sets, and an additional factor n is 
             absorbed by O-notation).
                 We conclude that all the versions of As have complexity at most
                                               is + 0 (y/n\ogn),
             since each of them can be described by the version number plus the parameters 
             of the  generating  process  (we  need  to  know  n  and  the  boundary  curve,  whose
                 2Note that for the values of s close to N , the right-hand side can be less than 1; the inequality 
             then claims just  the existence of non-deleted elements.  The induction step  is still  possible:  the 
             non-deleted element is contained in one of the covering sets.
