          246                      8.  SOME  APPLICATIONS
          precisely,  we  assume  that  Ai  is  independent  with  the  tuple  of all  non-neighbor 
          events (not only with each of them).  Then the following bound can be proven.
              Theorem 160 (Lovâsz local lemma (LL)).  Assume that for each i — 1,2,..., n, 
          a positive real Ei < 1  is fixed such that
                                  Pr[Ai]<£i  Yl  (! —
                                           j€N(i)
          for all i.  Then the probability of avoiding all the Ai  is at least
                               (1 -£i) • (1 - e 2) • ... • (1 - e n).
              So we get the same bound as in the case of independent events, but the condi­
          tions are stronger:  For each neighbor event j we need to add the factor (1 — £j)  in 
          the right-hand side of the assumption.
              PROOF.  The proof of LL is a bit strange:  All the steps are quite easy, but the 
          intuition behind them is rather unclear  (so it was probably difficult  to invent it, 
          and it is even quite difficult to reproduce it).  So we prepare ourselves by making 
          simple observations first.
              (a)  For every two events A and В we have
          Indeed, the conditional probability is Pr[AAß]/Pr[ß] and Pr[AAß] < Pr[A].  (As 
          usual, Л stands for “and”.)
              (b)  One can add some condition C to all the events in the previous inequality 
          (the relativization trick), and get
                                  Pr[A IВ Л C\ < Pr[A I C\ 
                                               Pr[F? IC] '
          This observation is used in the proof of Lovâsz local lemma for independent A and 
          C (in this case the numerator Pr[A | C] equals Pr[A]), and the denominator Pr[В \ C] 
          is not very small.
             Now we are prepared to prove LL by induction.  As often happens, we need a 
          stronger statement for induction purposes.  Let us prove the following statements 
          (here -i stands for the negation, or complement, of the event):
              (1) For every i and for every p,q,... that are not equal to i and to each other, 
          we have
                                Pr[Af I “iAp A “iAq Л • • • ]  < Ei.
              (2) For every two disjoint families of events i,j,... and p,q,... we have
                  Pr[->Ai Л ->Aj Л ■ • • I -iAp A ->Aq A ■ ■ ■ ] > (1 -  Ei) ■ (1 — Ej) ■ —
          Note that the first statement implies the second one for the case when the family 
          i,j,... consists of one event i:  If the probability of Ai  (with some condition) is at 
          most Ei, then the probability of its negation is at least (1 — £i).
             Moreover, this argument can be extended to the case when there is more than 
          one event in the family i,j,..
          Pr[~^Ai A ->Aj I ~>Ap A —>Aq A • • • ]
                          = Pr[-iAi I ~>Aj A —'Ap A —iAq A • • • ] • Pr[-iAj I —>Ap A —>Aq A • • • ];
