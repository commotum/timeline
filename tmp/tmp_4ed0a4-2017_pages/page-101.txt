          86            4.  A  PRIORI  PROBABILITY  AND  PREFIX  COMPLEXITY
                             #   0    1   0   0    0   1
                           О
                          Figure 10.  A head on a one-way input tape
              4.4.1.   Prefix-free  functions.  Here is  a refinement  of this  idea.  Consider 
          a  Turing machine that  has  an  extra infinite  one-way read-only  input  tape.  The 
          leftmost cell of the tape contains a special marker #.  All the other cells contain 
          either 0 or 1  (Figure 10).
              Initially the input tape head is located in the leftmost cell and thus scans the 
          marker.  The instruction performed by the machine is determined by the symbol 
          on  the  input  tape  it  scans  (and  also  by  the  symbol  on  the  work  tape  and  the 
          machine’s internal state, as usual).  The possible actions are changing the internal 
          state,  writing a symbol on the work tape,  and moving some of the heads  (in any 
          direction on the work tape and to the right on the input tape).  The result of the 
          computation should be written on the work tape in the usual way.  The work tape 
          is initially empty.
              Let M be a Turing machine as described above.  Let us run this machine for 
          all possible contents of the input tape.  If some of the computations halt, we write 
          down two strings:  the string x consisting of all bits scanned by the input head and 
          the result у of the computation.  Let Гм denote the resulting set of pairs (x,y).  If 
          two different pairs  (x\,yi)  and  (^2,^2)  are in Гд/, then the strings 27  and £2  are 
          incompatible.  Indeed, assume that 37  is a prefix of X2.  Since the computation on 
          37  does not go outside 37, it will be valid for Х2 too, and the last bits of Х2 remain 
          unused; thus the pair (^2,2/2)  does not belong to Гм  (unless 27 = X2—in this case 
          У\  = У2 ,  and we get the same pair).
              In particular, the first components of different pairs in Гм  are different.  This 
          means that  Гм  is  a graph  of a function.  We  denote  this  function  by  7m-  Its 
          arguments and values are binary strings.  We say that M  computes 7м  in a prefix- 
          free mode.  It is easy to see that the function 7м is computable in the usual sense. 
          Indeed,  to compute 7m(x),  we write x on the input  tape and any symbols  (say, 
          zeros) to the right of x,  and we then run M.  If M  halts with output y, we verify 
          whether M  has scanned all symbols of x and no symbols beyond x.  If the verification 
          fails, we output no result; otherwise we output у and halt.
              It is easy to see that the function 7м is computable and prefix free (every two 
          different strings in its domain are incompatible).  The converse statement is true as 
          well:
              Theorem 50.  Every computable prefix-free function is computed by some ma­
          chine in a prefix-free mode.
              Proof.  This  statement  is  not  that  evident.  Indeed,  a  (standard)  machine 
          computing a prefix-free function / knows where the input ends and can use this 
          information.  We need to construct another machine M  such that 7м = /•
              Informally speaking, the machine M  reads the next bit only if it can be done 
          safely, i.e., when it is known that /  is not defined on a currently known part of the 
          input because / is defined on its proper extension.  More precisely, fix a machine
