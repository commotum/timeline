                           TReB:AComprehensiveBenchmarkforEvaluatingTableReasoningCapabilitiesofLargeLanguageModels
                                                                                                                           Student Answer      Evaluation
                                                          TCoT Hybrid Prompt
                                                                                                                  TCoT
                                  TCoT
                                                                                                    LLM Output 
                                                 TCoT
                                                                                                                  Output 
                                                                                          LLM
                                                                                                                               TCoT:
                                                                              User 
                                                                                                                                              Student Answer
                                                                                                     Text 
                                                            Html or Markdown
                                                system 
                                                        +                +
                                                                                                                              Text Answer
                                                                                                                  Parser
                                                                             Question
                                               instructions
                          Organized Data
                                                                                                                                                 Comparison
                          Tabular Data
                                                                                                                                                  Semantic 
                                                          PoT Hybrid Prompt
                                                                                                            Tool 
                                                                                                                                                  Similarity
                                      POT
                                                                                                                               POT:
                                                                                                            Call
                                                                                                   LLM Output 
                                                 PoT
                                                                                                                  Code 
                                                                                          LLM
                                                                                                                             Code Execute 
                                                            Tabular Basic Info;
                                                                              User 
                          User Question
                                                                                                     Code
                                                system 
                                                                                                                 Sandbox
                                                        +                +
                                                                                                                               Result
                                                             Data Examples
                                                                             Question
                       Ground Truth Answer
                                               instructions
                                                                                                                                                  Answer 
                                                                                                                                                  Accuracy
                         Data Information
                                                                                                   Feedback
                        Column Description
                                                                                                                    Tool Call
                         Value Explanation
                             ...
                                                          ICoT Hybrid Prompt
                                                                                                                  ICoT
                                                                                                                               ICoT:
                                                                                                   LLM Output 
                                                                                                                              Summary 
                                                                                                                  Output
                                                 ICoT
                          Required
                                                                                                                                               Ground Truth 
                                                                                          LLM
                                                            Tabular Basic Info;
                                                                              User 
                                                                                                   Text & Code
                                                                                                                               Answer
                                                system 
                                                                                                                  Parser
                                                                                                                                                Answer
                                                        +                +
                          Optional
                                                             Data Examples
                                                                             Question
                                  ICoT
                                               instructions
                 Figure 1: Evaluation Framework Overview. A robust framework is specifically designed with organized data, three inference
                 modes, and reliable metrics to evaluate LLM performance on table reasoning.
                 misinterprets the task. Nevertheless, PoT is highly effec-                computation. However, compared to ToT and PoT, ICoT
                 tive for tasks where accuracy and computational precision                 demandsmorecomputationalresources due to its iterative
                 are critical, making it a powerful tool for addressing more               nature and increased system complexity, which may limit
                 advanced data analysis challenges.                                        efficiency in resource-constrained scenarios.
                 3.3.3. INTERLEAVED CHAIN-OF-THOUGHT (ICOT)                                3.4. Evaluation Methods
                 TheICoTmodeenablesmodelstoperformmulti-steprea-                           Toensure a reliable and comprehensive assessment of LLM
                 soningbycombiningtextualexplanationsandprogrammatic                       performance on table reasoning, our framework supports
                 outputs in an iterative process. This advanced mode inte-                 multiple evaluation metrics tailored to address the diverse
                 grates planning, step-by-step execution, and self-reflection,             requirement of each task. These metrics are carefully se-
                 allowing the model to dynamically adapt its reasoning based               lected and integrated to provide a well-rounded evaluation,
                 on intermediate results. Feedback loops between the model                 balancing objectivity, flexibility, and task-specific consider-
                 and a code execution environment help correct errors, re-                 ations.
                 fine plans, and improve overall problem-solving accuracy,
                 effectively simulating real-world trial-and-error processes.              3.4.1. NATURAL LANGUAGE METRICS
                 Formally, ICoT reasoning mode can be represented as fol-                  Natural language metrics including BLEU (Papineni et al.,
                 lows:                                                                     2002)andROUGE(Lin,2004)canbeusedfortext-oriented
                            Plan                                                           tasks, such as generating table summaries or explanatory
                 M(T,Q)−−→{S ,S ,...,S }
                                    1  2        n                                          answers. These metrics primarily measure the overlap be-
                                               E(P )      Feedback
                                                  1                                       tweenthemodel’sgeneratedtextandthegroundtruth,using
                                     (C ,P ) −−−→ R −−−−−→ M−→(C ,P )
                                    1 1                1                    2   2
                                   
                                   
                                               E(P )      Feedback
                                                  2                                       precision of n-gram text sequences.
                                     (C ,P ) −−−→ R −−−−−→ M−→(C ,P )
                            Execute     2   2           2                    3   3
                           −−−−→     .
                                   
                                     .                                                     While these metrics are widely used in NLP tasks, they
                                   
                                     .
                                   
                                   
                                   
                                               E(P )       Feedback
                                                   n                                       have limitations in table reasoning evaluation. Specifically,
                                     (C ,P ) −−−−→ R −−−−−→ M
                                        n   n            n                                 they mayoverlookdeepersemanticcorrectnessandpenalize
                            Aggregate
                           −−−−−→A                                                (3)      valid answers that use alternative phrasing. Despite these
                 where S denotes the k-th step of the plan, R denotes the                  drawbacks, natural language metrics remain essential for
                          k                                           k                    evaluating fluency, readability, and surface-level alignment
                 k-th code executed result.                                                withgroundtruthintaskswheretextualoutputistheprimary
                 Akey feature of ICoT is its ability to dynamically adapt                  focus.
                 based on intermediate results. After each code block is                   3.4.2. LLM-AS-A-JUDGE
                 executed, the produced results are fed back into the reason-
                 ing process, enabling the model to correct mistakes, refine               While humanevaluation is the gold standard for assessing
                 its approach, or adjust its plan. This iterative interaction              the student answers, it is exceptionally slow and costly. To
                 between reasoning and execution is particularly effective                 automate the evaluation, we explore the use of state-of-the-
                 for handling complex, multi-step tasks, such as data analy-               art LLMs as a surrogate for humans. Because these models
                 sis problems that require multiple rounds of reasoning and
                                                                                        7
