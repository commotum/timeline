                                                                                                                                                                 BlinkFill requires 1.27 Examples/avg (FlashFill - 1.53)
                                                                                                                                                        4.5                                                FlashFill          BlinkFill
                                                                                                                                                          4
                                                                                                                                                     mplesa3.5
                                                                                                                                                     Ex   3
                                                                                                                                                     O f I-2.5
                                                                                                                                                     o    2
                                                                                                                                                     er 1.5
                                                                                                                                                     umb  1
                                                                                                                                                     N  0.5
                                                                                                                                                          0  1  7                                        3  9 5  1  7 3  9 5  1  7 3  9 5  1  7 3  9 5
                                                                                                                                                                  13 19 2531 3743 49 5561 6773 79 8591 9710 1011 12 1213 1314 15 1516 1617 18 1819 1920
                                                                                                                                                                                             Benchmarks
                                                                                  (a)                                                                                                                    (b)
                         Figure 17: (a) The learning time for FlashFill and BlinkFill on 207 string transformation benchmarks for the
                         three categories. (b) The number of examples required by FlashFill and BlinkFill for diﬀerent benchmarks.
                         8.1         Learning Time                                                                                                                           Size of Input Data Graph 
                             We ﬁrst compare the learning times for BlinkFill and                                                                                        does not grow exponentially
                         FlashFill on the 207 benchmarks. BlinkFill learns the                                                                        600
                         desired transformations for all 207 benchmarks in only 7.32                                                                 ize500
                         seconds, whereas FlashFill requires 324.64 seconds. The                                                                     h S400
                         learning times for individual benchmark problems for diﬀer-                                                                 ap300
                         ent benchmark category is shown in Figure 17(a). Within                                                                     Gr200
                         each category, we further sort the benchmarks by the aver-                                                                   100
                         age lengths of strings in the input-output examples. In gen-                                                                    0
                                                                                                                                                                     1                 2                  3                 4                 5
                         eral, learning times increase with increasing string lengths,                                                                                      Iterations of Input Graph Intersection
                         but several other factors such as number of sub-expressions,
                         number of token matches etc. also inﬂuence the learning                                                                Figure18: ThevariationinsizeoftheInputDataGraph
                         times. As can be observed, BlinkFill is signiﬁcantly faster                                                            after each intersection operation.
                         than FlashFill for all the three categories. BlinkFill is
                         on average 41.5× faster than FlashFill and the median
                         speedupis11.25×. ThemaximumtimetakenbyFlashFill                                                                        context for the token match (ws,-3) (p ◦ "," ◦ ws ◦ C ◦ ws ◦
                         on any benchmark is 28.6s, whereas the maximum time                                                                    d) is larger than the context for the desired token match
                         taken by BlinkFill on any benchmark is only 0.39s. There                                                               (",",1). A user can provide an additional example "from
                         are 57 benchmarks where FlashFill takes more than 1s                                                                   Los Angeles" in this case, and the ranking algorithm then
                         each to learn the transformation. For these 57 challenging                                                             learns the correct transformation using the 2 examples.
                         benchmarks, BlinkFill is on average 124× (median 68.1×)
                         faster than FlashFill.                                                                                                 8.3          Intersection of InputDataGraphs
                                                                                                                                                    Even though the complexity of the intersection of two
                                                                                                                                                                                             4
                         8.2         Ranking                                                                                                    InputDataGraphs is O(n ), we never experience a quadratic
                             BlinkFill is not only faster than FlashFill, but it also                                                           blowupingraphsizeafterintersectioninpractice. Allbench-
                         learns the transformations from fewer input-output exam-                                                               marks exhibit the typical variation in the size of the graph
                         ples. We compare the ranking of the two systems by mea-                                                                after each intersection as shown in Figure 18. The size of the
                         suring the number of examples needed to learn the desired                                                              graph always reduces after the ﬁrst intersection, and then
                         transformation, which is shown in Figure 17(b). For the                                                                there is a minor variation in the size for later intersections.
                         207 benchmarks, FlashFill needs 317 input-output exam-                                                                 WehypothesizethesparsityofedgesintheInputDataGraphs
                         ples in total, whereas BlinkFill requires only 264 examples.                                                           to be the reason for this phenomenon.
                         Onaverage,FlashFillneeds1.53examplesperbenchmark,                                                                      8.4          Scalability on Large Spreadsheets
                         whereas BlinkFill requires 1.27 examples. For 44 bench-
                         marks, BlinkFillrequires fewer examples than FlashFill,                                                                    The construction of the InputDataGraph on very large
                         whereas there are 6 benchmarks where FlashFill needs                                                                   spreadsheets can be a bottleneck. For such large spread-
                         fewer examples. Overall, the ranking strategy of selecting                                                             sheets, we randomly sample a constant k number of input
                         token sequences with largest context works remarkably well.                                                            rows to compute the InputDataGraph. The generation times
                         The few cases where it doesn’t work as well compared to                                                                of input graph for diﬀerent values of k on a large Excel
                                                                                                                                                                      2
                         FlashFill are the cases where there is some unintended                                                                 spreadsheet is shown in Figure 19. The GenInpDataGraph
                         matching of longer contexts. For example, for the input-                                                               algorithm takes less than 1s to construct the input graph for
                         output example "457 5th St S, Seattle, WA 98111" →                                                                     k = 1280 input strings. However, for all real-word bench-
                         "from Seattle", the system learns the token match (ws,-3)                                                              marks, approximately 10 randomly sampled input strings
                             rd                                                                                                                 suﬃces for learning a representative input graph.
                         (3      space from end) to extract the left index of the substring
                         " Seattle". This logic works for most inputs but not for an                                                             2ThespreadsheetcomesfromtheUSSSAwebsiteconsisting
                         input of the form "98743 Edwards Ave, Los Angeles, CA                                                                  of 33044 popular baby names in 2014 together with their
                         78911", whereitgeneratestheoutput"from Angeles". The                                                                   gender and frequency.
                                                                                                                                        825
