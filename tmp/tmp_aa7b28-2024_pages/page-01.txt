                                       This CVPRpaperisthe Open Access version, provided by the Computer Vision Foundation.
                                                     Except for this watermark, it is identical to the accepted version;
                                                the final published version of the proceedings is available on IEEE Xplore.
                     OneFormer3D:OneTransformerforUnifiedPointCloudSegmentation
                              MaximKolodiazhnyi, Anna Vorontsova, Anton Konushin, Danila Rukhovich
                                                                  SamsungResearch
                                 {m.kolodiazhn, a.vorontsova, a.konushin, d.rukhovich}@samsung.com
                                      Abstract
                                                                                       Existing approaches
                                                                                                            Semantic          Semantic
                 Semantic, instance, and panoptic segmentation of 3D                                          Model             SOTA
              point clouds have been addressed using task-specific mod-                     Point            Instance          Instance
              els of distinct design.  Thereby, the similarity of all seg-                  Cloud             Model             SOTA
              mentation tasks and the implicit relationship between them                                     Panoptic          Panoptic
              have not been utilized effectively. This paper presents a                                       Model             SOTA
              unified, simple, and effective model addressing all these                OneFormer3D, ours
              tasks jointly. The model, named OneFormer3D, performs                                                           Semantic
                                                                                                                                SOTA
              instance and semantic segmentation consistently, using a
                                                                                            Point             Unified          Instance
              group of learnable kernels, where each kernel is responsi-                    Cloud             Model             SOTA
              ble for generating a mask for either an instance or a seman-
                                                                                                                               Panoptic
              tic category. These kernels are trained with a transformer-                                                       SOTA
              based decoder with unified instance and semantic queries
              passed as an input. Such a design enables training a model         Figure 1. Traditional 3D point cloud segmentation methods ad-
              end-to-end in a single run, so that it achieves top per-           dress different tasks with task-specific models to achieve the best
              formance on all three segmentation tasks simultaneously.           performance.   We propose OneFormer3D, a 3D segmentation
                                                        st                       framework that tackles semantic, instance, and panoptic segmen-
              Specifically, our OneFormer3D ranks 1       and sets a new
              state-of-the-art (+2.1 mAP ) in the ScanNet test leader-           tation tasks with a multi-task train-once design.
                                          50
              board. We also demonstrate the state-of-the-art results in
              semantic, instance, and panoptic segmentation of ScanNet           ground point (stuff).
              (+21 PQ), ScanNet200 (+3.8 mAP ), and S3DIS (+0.8
                                                    50                              Despite all three 3D segmentation tasks actually imply
              mIoU)datasets.                                                     predicting a set of masks, they are typically solved with
                                                                                 models of completely different architectures. 3D seman-
              1. Introduction                                                    tic segmentation methods rely on U-Net-like networks [6,
                                                                                 22, 25, 27, 34, 40, 48]. 3D instance segmentation methods
              3Dpoint cloud segmentation is the task of grouping points          combine semantic segmentation models with aggregation
              into meaningful segments. Such a segment may comprise              schemes based either on clustering [3, 10, 13, 21, 35, 49],
              points of the same semantic category or belonging to the           object detection [11, 15], or transformer decoders [31, 32].
              same single object (an instance). Semantic- and instance-          3D panoptic segmentation methods [23, 38, 44] perform
              based grouping give rise to three formulations of the seg-         panoptic segmentation in 2D images, than lift the predicted
              mentation task: semantic, instance, and panoptic. Semantic         masks into 3D space and aggregate them point-wise. The
              segmentation outputs a mask for each semantic category, so         question naturally arises: is it possible to tackle all three 3D
              that each point in a point cloud gets assigned with a seman-       segmentation tasks jointly with a single unified approach?
              tic label. Instance segmentation returns a set of masks of in-        Recenty, various ways of unifying 2D segmentation
              dividual objects; since some regions cannot be treated as an       methods have been proposed [4, 5, 41]. All these meth-
              distinguishable object but rather serve as a background (like      ods train a single panoptic model on all three tasks, so that
              a floor or a ceiling), only a part of points in a point cloud      high performance is obtained without changing the network
              is being labeled. Panoptic segmentation is the most gen-           architecture. Still, the best results are achieved when the
              eral formulation: it implies predicting a mask for each fore-      model is trained for each task separately. As can be ex-
              ground object (thing), and a semantic label for each back-         pected, such a training policy results in three times larger
                                                                             20943
