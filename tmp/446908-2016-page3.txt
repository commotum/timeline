              3.    MOTIVATINGEXAMPLES                                                                  Input v1              Output
                 In this section, we present a few motivating scenarios that               1    Brandon Henry Saunders          B.S.
              demonstrate the usefulness of semi-supervised learning for                   2          William Lee
              string transformation tasks. BlinkFill eﬃciently learns the                  3         Dafna Q. Chen
              set of all logical structures consistent with the input strings              4      Danelle D. Saunders
              and uses it to learn the desired transformation from only 1                  5  Emilio William Concepcion
              or 2 input-output examples for each of these scenarios.
                 Example 1. An Excel user had a list of city and country                Figure 2: Abbreviating names to initials.
              namesinacolumn,andneededtoextractthecountryname.
              The user provided an input-output example (emphasized in                                         st                st
              bold) to express the intent as shown in Figure 1.                   left index such as start of 1 CAPS, start of 1 ProperCase,
                                                                                  end of StartT, etc. Machine learning based techniques can
                                                                                                             st
                                                                                  reasonably identify that 1 CAPS is a more commonly-used
                                    Input v                     Output            expression globally and can rank them higher than other
                                             1
                 1                Mumbai, India                  India            choices. But for the left index of the second substring "S",
                 2   Los Angeles, United States of America                        identifying the correct logic is quite challenging as there
                                                                                  are many equally likely hypotheses such as end of −1st
                 3            Newark, United States                                                     nd                     rd
                 4    New York, United States of America                          Whitespace, end of 2     Whitespace, start 3    CAPS, end of
                                                                                     st
                 5          Wellington, New Zealand                               −1 ProperCase◦Whitespace, etc. BlinkFill uses the log-
                 6              New Delhi, India                                  ical patterns shared by the input column strings to learn the
                                                                                  following index expressions:
                                                                                     • For substring "B", left: start of 1stProperCaseWSpaces
                                                                                                                                   st
                Figure 1: Extracting country from input column.                         (end of StartT as context), right: end of 1 CAPS (end
                                                                                                                st
                                                                                        of StartT and start of 1 lowercase as contexts)
                 Given the ﬁrst input-output example "Mumbai, India"                                                      st
              →"India", there are a large number of possible logical ex-             • For substring "S", left: end of −1 Whitespace ( start
                                                                                             st
              pressions to extract the substring "India". The substring                 of −1 ProperCase◦EndT as context), right: start of
                                                                                        −1stlowercase (start of EndT as context)
              expression in the DSL that extracts such substrings from the
              input strings is deﬁned using two position expressions: one           Example 3. A user posted the following spreadsheet on
              position expression for the left index of the substring and         an Excel help-forum consisting of a list of medical billing
              the other for the right index. For example, some possible           codes, where some codes had a missing "]" at the end. The
              logics to identify the left index of the substring "India"          user wanted to clean the data by adding the missing "]"
                                                                          nd
              in the input string "Mumbai, India" are: i) start of 2              only for the strings where it was missing, and didn’t want
                                              nd
              Alphabets token, ii) start of 2    Alphanumeric, iii) end of        to duplicate "]" for the strings where it was already present.
               st                           st
              1   Whitespace, iv) end of 1     comma followed by whites-
              pace, etc. There are more than 103 diﬀerent logics in our
              DSL that can identify this position. Similarly, there are                              Input v1         Output
                            3                                                                  1   [CPT-00350      [CPT-00350]
              more than 10 diﬀerent logics for identifying the right index
              of the substring. Given just the input-output example, it is                     2   [CPT-00340
              challenging to select the desired expression from more than                      3   [CPT-11536]
              106 diﬀerent choices of conforming logics.                                       4    [CPT-115]
                 BlinkFill uses semi-supervised learning to identify that
              the most desirable logic for left index of substring "India"         Figure 3: Adding "]" to codes with a missing "]".
              is the end of 1st ConstantStr(", ") (comma followed by a
              whitespace), whereas the most desirable logic for the right           This is an interesting example as it requires FlashFill
              index is the end of −1st lowercase (where negative values
              denote match occurrences from the end). BlinkFill prefers           to learn a conditional program to insert "]" to only strings
              token sequences that have larger contexts around them in            that do not already have "]" at the end. After the ﬁrst
              input data as they are more likely to correspond to the de-         example, FlashFill learns the simplest program to insert
              sired logic. For this example, it ﬁnds that the left index logic    "]" at the end of every input. The user needs to provide an
              is preceded by the context StartT◦1stProperCaseWSpaces,             additional example corresponding to the distinct behavior
              and the right index logic is followed by the context EndT.          to help FlashFill learn the conditional program. On the
                                                                                  other hand, BlinkFill learns the desired transformation
                 Example 2. An Excel user wanted to abbreviate a list of          from the ﬁrst example itself. Instead of selecting the sub-
              names to the corresponding initials of First and Last names         string between the StartT and EndT (i.e. the complete in-
              as showninFigure2. Thepresenceofoptionalmiddlenames                 put), it learns that the most common logical pattern shared
              in diﬀerent formats made it challenging for the user.               by the input strings is: StartT◦1stConstantStr("[CPT-")◦
                                                                                  1stDigits. It then learns the program that concatenates
                                                                                                                                      st
                 This example requires extraction of multiple substrings.         the substring between end of StartT and end of 1 Digits
              Givenaninput-outputexample"Brandon Henry Saunders"                  with the constant string "]". For inputs without "]" at
              →"B.S.", BlinkFill needs to learn substring expressions             the end, the substring expression extracts the complete sub-
              to extract the substrings "B" and "S". For the substring            string. For inputs ending with "]", the substring expression
              "B", there are again many diﬀerent possible logics for the          extracts only the substring before the last "]".
                                                                             818
