                                              Test-Time Learning for Large Language Models
                                                Table 9. Examples of ReasoningBench data.
                          Input: Below is an instruction that describes a task. Write a response that appropriately completes the
              GSM8K       request.\n\n### Instruction:\nFive food companies sponsored a local food bank. Foster Farms donated
                          45 dressed chickens; American Summits donated twice the number of bottled water than the number of
                          dressed chicken donated by Foster Farms; Hormel donated three times the number of dressed chickens that
                          Foster Farms donated; Boudin Butchers donated one-third of the number of dressed chickens that Hormel
                          donated; Del Monte Foods donated 30 fewer bottles of water than American Summits. How many food
                          items did the companies donate in total? Response: Let’s think step by step.
                          Output: 375
                          Input: Below is an instruction that describes a task. Write a response that appropriately completes the
              MetaMath    request. Instruction:\n What is the value of the ceiling function applied to q49 ? \n Response: Let’s think
                                                                                             4
                          step by step.
                          Output: -3
                          Input: Write a multi-choice question for the following article:\n Article: Researchers believe that if
              LogiQA      mothers are exposed to more pesticides in the first few months of pregnancy, the babies born may be
                          less intelligent. They believe that the embryonic brain begins to develop shortly after pregnancy, so the
                          pre-pregnancy is the baby’s brain In the critical period of development, exposure to more pesticides may
                          change the environment around the developing embryo’s brain in pregnant women.\n Question: Which
                          of the following, if true, would best support a researcher’s point of view?\n Options: A. Many babies are
                          born early due to their mothers’ exposure to pesticides.\n B. Insecticides are a potential threat to people’s
                          health, and it can also cause many diseases such as Parkinson’s disease, cancer and mental illness.\n C.
                          Previous research has found that increased exposure to pesticides can cause thyroid problems in pregnant
                          women,andthethyroidstatus of pregnant women can affect the intellectual development of the fetus.\n
                          D. Researchers conducted a follow-up survey of 1,500 pregnant women and found that children born to
                          pregnant women who were more exposed to pesticides performed significantly worse in mathematics and
                          language.\n\n Answer:
                          Output: C
             LogiQA:LogiQA11 is a high-quality, comprehensive dataset focused on logical reasoning, derived from logical reasoning
             questions used in the Chinese National Civil Service Examination. It consists of 8k QA samples, covering a variety
             of deductive reasoning tasks designed to test a model’s adaptability to logical reasoning and problem-solving. During
             dataset construction, strict filtering was applied to exclude samples with inappropriate formats or those involving charts and
                                                                                                            12
             mathematical calculations, ensuring the dataset’s purity and quality. Following the official dataset guidelines , we create
             multiple-choice prompts and randomly select 5k samples for evaluation.
             C. MoreDetails for Experiment Settings
             C.1. More Metrics
             Toprovide a more comprehensive evaluation of the proposed method, we employ additional evaluation metrics, including
             BERTScore(BSF1)(Zhangetal.,2019), BLEU(Papineni et al., 2002), Rouge-1 (R-1), Rouge-2 (R-2), and Rouge-L (R-L).
             These metrics help assess various aspects of model performance, such as the quality of generated text, its similarity to
             reference outputs, and the model’s ability to capture key information at different levels of granularity.
             C.2. Implementation Details
             The training and evaluation are conducted on the 80G memory-sized NVIDIA A800 GPUs with CUDA version 12.1.
             Our method is implemented using the PyTorch framework with Pytorch, version 2.5.1. The training framework used is
                           13
             LLaMA-Factory . For the LoRA setup, we use random Gaussian initialization for matrix A and set matrix B to zero, with
               11https://huggingface.co/datasets/lucasmccabe/logiqa
               12https://github.com/csitfun/LogiQA2.0/blob/main/logiqa/multi-choice-prompt.py
               13https://github.com/hiyouga/LLaMA-Factory
                                                                 22
